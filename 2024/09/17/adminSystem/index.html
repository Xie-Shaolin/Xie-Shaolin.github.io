<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>谷粒商城：后台管理系统要点 | Notes</title>
  <meta name="keywords" content=" element-ui , SpringCloud , Feign , gulimall , Prettier , ESLint , 跨域 , JSR303 , OSS , 阿里云 ">
  <meta name="description" content="谷粒商城：后台管理系统要点 | Notes">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="什么是JUCJUC就是java.util .concurrent工具包的简称。这是一个处理线程的工具包，JDK 1.5开始出现的。严格来说JUC 并不是一个有官方文档承认的技术名称，而只是我们为了方便交流给这个课程起的一个非正式的名字。 程序、进程与线程 程序与进程  程序是静态概念，一个软件系统开发完成部署到运行环境下就是可以使用的程序了。 进程的动态概念，一个程序运行起来就是一个进程，所以进程">
<meta property="og:type" content="article">
<meta property="og:title" content="Java:JUC —— 一些概念">
<meta property="og:url" content="http://example.com/2024/10/09/someConceptsOfJUC/index.html">
<meta property="og:site_name" content="Notes">
<meta property="og:description" content="什么是JUCJUC就是java.util .concurrent工具包的简称。这是一个处理线程的工具包，JDK 1.5开始出现的。严格来说JUC 并不是一个有官方文档承认的技术名称，而只是我们为了方便交流给这个课程起的一个非正式的名字。 程序、进程与线程 程序与进程  程序是静态概念，一个软件系统开发完成部署到运行环境下就是可以使用的程序了。 进程的动态概念，一个程序运行起来就是一个进程，所以进程">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2024/10/09/someConceptsOfJUC/someConceptsOfJUC/001.png">
<meta property="og:image" content="http://example.com/2024/10/09/someConceptsOfJUC/someConceptsOfJUC/002.png">
<meta property="og:image" content="http://example.com/2024/10/09/someConceptsOfJUC/someConceptsOfJUC/003.png">
<meta property="og:image" content="http://example.com/2024/10/09/someConceptsOfJUC/someConceptsOfJUC/004.png">
<meta property="og:image" content="http://example.com/2024/10/09/someConceptsOfJUC/someConceptsOfJUC/005.png">
<meta property="og:image" content="http://example.com/2024/10/09/someConceptsOfJUC/someConceptsOfJUC/006.png">
<meta property="og:image" content="http://example.com/2024/10/09/someConceptsOfJUC/someConceptsOfJUC/007.png">
<meta property="og:image" content="http://example.com/2024/10/09/someConceptsOfJUC/someConceptsOfJUC/008.png">
<meta property="og:image" content="http://example.com/2024/10/09/someConceptsOfJUC/someConceptsOfJUC/009.png">
<meta property="og:image" content="http://example.com/2024/10/09/someConceptsOfJUC/someConceptsOfJUC/010.png">
<meta property="og:image" content="http://example.com/2024/10/09/someConceptsOfJUC/someConceptsOfJUC/016.png">
<meta property="og:image" content="http://example.com/2024/10/09/someConceptsOfJUC/someConceptsOfJUC/012.png">
<meta property="og:image" content="http://example.com/2024/10/09/someConceptsOfJUC/someConceptsOfJUC/013.png">
<meta property="og:image" content="http://example.com/2024/10/09/someConceptsOfJUC/someConceptsOfJUC/014.png">
<meta property="og:image" content="http://example.com/2024/10/09/someConceptsOfJUC/someConceptsOfJUC/017.png">
<meta property="og:image" content="http://example.com/2024/10/09/someConceptsOfJUC/someConceptsOfJUC/018.png">
<meta property="og:image" content="http://example.com/2024/10/09/someConceptsOfJUC/someConceptsOfJUC/019.png">
<meta property="og:image" content="http://example.com/2024/10/09/someConceptsOfJUC/someConceptsOfJUC/015.png">
<meta property="og:image" content="http://example.com/2024/10/09/someConceptsOfJUC/someConceptsOfJUC/020.png">
<meta property="og:image" content="http://example.com/2024/10/09/someConceptsOfJUC/someConceptsOfJUC/021.png">
<meta property="article:published_time" content="2024-10-08T16:00:00.000Z">
<meta property="article:modified_time" content="2024-10-09T12:06:31.808Z">
<meta property="article:author" content="XieShaoLin">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="JUC">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2024/10/09/someConceptsOfJUC/someConceptsOfJUC/001.png">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/github.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 7.3.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/avatar.jpg"/>
</a>
<div class="author">
    <span>XieShaoLin</span>
</div>

<div class="icon">
    
        
    
        
    
        
    
        
    
        
            <a title="email"
               href="mailto:1909773034@qq.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-email"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="qq"
               href="http://wpa.qq.com/msgrd?v=3&uin=1909773034&site=qq&menu=yes"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-qq"></use>
                    </svg>
                
            </a>
        
    
</div>





<ul>
    <li>
        <div class="all active" data-rel="全部文章">全部文章
            
                <small>(110)</small>
            
        </div>
    </li>
    
        
            
                
    <li>
        <div data-rel="工具">
            
            工具
            <small>(8)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="前端">
            
            前端
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="后端">
            
            后端
            <small>(62)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="运维">
            
            运维
            <small>(5)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="财经">
            
            财经
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="摄影">
            
            摄影
            <small>(17)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="食物">
            
            食物
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="英语">
            
            英语
            <small>(12)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="总结">
            
            总结
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="110">
<input type="hidden" id="yelog_site_word_count" value="394.6k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">全部文章</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>阿里云</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>华为云</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>跨域</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>前锋教育</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>设计模式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>摄影</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>腾讯云</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>甜品</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>虚拟机</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>adult English</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>AOF</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>CentOS</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>docker</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>economy</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>element-ui</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>English</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ES6</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ESLint</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Feign</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>finalshell</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Getway</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>git</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>github</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>grammer</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>gulimall</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>halo</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>hexo</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>idea</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>IELTS</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>java</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Java</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>JavaScript</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>JDBC</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Jedis</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Js</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>JSR303</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>JUC</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Junit</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Linux</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>listening</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Listening</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Log4j2</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MacOS</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>maven</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Maven</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>mq</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Mysql</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MySql</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MySQL</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Nacos</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>node.js</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>NoSql</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>npm</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>nvm</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>OAuth2</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>OSS</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>phonetic symbol</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>phonics</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Prettier</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>python</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>RDB</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Reading</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>redis</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>RedisTemplate</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>renren-fast</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>speaking</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Speaking</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>spring</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Spring</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Spring boot test</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>springboot</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SpringCloud</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>springSecurity</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>VMware</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>vue</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Writing</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        
        <a  class="全部文章 后端 "
           href="/2024/10/09/someConceptsOfJUC/"
           data-tag="Java,JUC"
           data-author="" >
            <span class="post-title" title="Java:JUC —— 一些概念">Java:JUC —— 一些概念</span>
            <span class="post-date" title="2024-10-09 00:00:00">2024/10/09</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/10/06/compareAbstractAndInterface/"
           data-tag="Java"
           data-author="" >
            <span class="post-title" title="Java:抽象类与接口的比较">Java:抽象类与接口的比较</span>
            <span class="post-date" title="2024-10-06 00:00:00">2024/10/06</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/10/06/equalsAndHashcode/"
           data-tag="Java"
           data-author="" >
            <span class="post-title" title="Java:重写了equals方法为什么又要重写hashcode方法">Java:重写了equals方法为什么又要重写hashcode方法</span>
            <span class="post-date" title="2024-10-06 00:00:00">2024/10/06</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/10/06/innerClass/"
           data-tag="Java"
           data-author="" >
            <span class="post-title" title="Java:内部类（InnerClass)">Java:内部类（InnerClass)</span>
            <span class="post-date" title="2024-10-06 00:00:00">2024/10/06</span>
        </a>
        
        
        <a  class="全部文章 英语 "
           href="/2024/10/05/newOrientalIELTSListening/"
           data-tag="English,IELTS,Listening"
           data-author="" >
            <span class="post-title" title="新东方雅思听力笔记">新东方雅思听力笔记</span>
            <span class="post-date" title="2024-10-05 00:00:00">2024/10/05</span>
        </a>
        
        
        <a  class="全部文章 英语 "
           href="/2024/10/05/newOrientalIELTSReading/"
           data-tag="English,IELTS,Reading"
           data-author="" >
            <span class="post-title" title="新东方雅思英语阅读笔记">新东方雅思英语阅读笔记</span>
            <span class="post-date" title="2024-10-05 00:00:00">2024/10/05</span>
        </a>
        
        
        <a  class="全部文章 英语 "
           href="/2024/10/05/newOrientalIELTSWriting/"
           data-tag="English,IELTS,Writing"
           data-author="" >
            <span class="post-title" title="新东方：雅思写作课程笔记">新东方：雅思写作课程笔记</span>
            <span class="post-date" title="2024-10-05 00:00:00">2024/10/05</span>
        </a>
        
        
        <a  class="全部文章 总结 "
           href="/2024/10/05/summaryOfJava/"
           data-tag="Java"
           data-author="" >
            <span class="post-title" title="总结：Java后端开发知识点">总结：Java后端开发知识点</span>
            <span class="post-date" title="2024-10-05 00:00:00">2024/10/05</span>
        </a>
        
        
        <a  class="全部文章 英语 "
           href="/2024/10/04/cambridgeAdultEnglish/"
           data-tag="English,speaking,adult English"
           data-author="" >
            <span class="post-title" title="成人英语：剑桥英语Touchstone">成人英语：剑桥英语Touchstone</span>
            <span class="post-date" title="2024-10-04 00:00:00">2024/10/04</span>
        </a>
        
        
        <a  class="全部文章 摄影 "
           href="/2024/10/04/commonFilters/"
           data-tag="摄影"
           data-author="" >
            <span class="post-title" title="摄影入门课程：常见滤镜的使用效果">摄影入门课程：常见滤镜的使用效果</span>
            <span class="post-date" title="2024-10-04 00:00:00">2024/10/04</span>
        </a>
        
        
        <a  class="全部文章 英语 "
           href="/2024/10/04/homophonicSymbol/"
           data-tag="English,phonetic symbol"
           data-author="" >
            <span class="post-title" title="谐音记忆国际音标">谐音记忆国际音标</span>
            <span class="post-date" title="2024-10-04 00:00:00">2024/10/04</span>
        </a>
        
        
        <a  class="全部文章 英语 "
           href="/2024/10/04/laiShiXiongPhoneticSymbol/"
           data-tag="English,phonetic symbol"
           data-author="" >
            <span class="post-title" title="赖世雄KK音标和国际音标的对比">赖世雄KK音标和国际音标的对比</span>
            <span class="post-date" title="2024-10-04 00:00:00">2024/10/04</span>
        </a>
        
        
        <a  class="全部文章 摄影 "
           href="/2024/10/04/lightInPhotography/"
           data-tag="摄影"
           data-author="" >
            <span class="post-title" title="摄影入门课程：摄影用光">摄影入门课程：摄影用光</span>
            <span class="post-date" title="2024-10-04 00:00:00">2024/10/04</span>
        </a>
        
        
        <a  class="全部文章 英语 "
           href="/2024/10/04/phonicsZhouYuRu/"
           data-tag="English,phonetic symbol,phonics"
           data-author="" >
            <span class="post-title" title="自然拼读入门课（周育如）">自然拼读入门课（周育如）</span>
            <span class="post-date" title="2024-10-04 00:00:00">2024/10/04</span>
        </a>
        
        
        <a  class="全部文章 英语 "
           href="/2024/10/04/phonicscXieMengYuan/"
           data-tag="English,phonetic symbol,phonics"
           data-author="" >
            <span class="post-title" title="自然拼读（谢孟媛）">自然拼读（谢孟媛）</span>
            <span class="post-date" title="2024-10-04 00:00:00">2024/10/04</span>
        </a>
        
        
        <a  class="全部文章 摄影 "
           href="/2024/10/04/photographyThemesAndTechniques/"
           data-tag="摄影"
           data-author="" >
            <span class="post-title" title="摄影入门课程：常见的摄影题材和摄影技法">摄影入门课程：常见的摄影题材和摄影技法</span>
            <span class="post-date" title="2024-10-04 00:00:00">2024/10/04</span>
        </a>
        
        
        <a  class="全部文章 摄影 "
           href="/2024/10/04/portraitPhotography/"
           data-tag="摄影"
           data-author="" >
            <span class="post-title" title="摄影入门课程：人像摄影">摄影入门课程：人像摄影</span>
            <span class="post-date" title="2024-10-04 00:00:00">2024/10/04</span>
        </a>
        
        
        <a  class="全部文章 英语 "
           href="/2024/10/04/systemOfPhoneticSymbol/"
           data-tag="English,phonetic symbol"
           data-author="" >
            <span class="post-title" title="音标体系（英语兔）">音标体系（英语兔）</span>
            <span class="post-date" title="2024-10-04 00:00:00">2024/10/04</span>
        </a>
        
        
        <a  class="全部文章 摄影 "
           href="/2024/10/04/toneOfPhotography/"
           data-tag="摄影"
           data-author="" >
            <span class="post-title" title="摄影入门课程：摄影的影调">摄影入门课程：摄影的影调</span>
            <span class="post-date" title="2024-10-04 00:00:00">2024/10/04</span>
        </a>
        
        
        <a  class="全部文章 摄影 "
           href="/2024/10/04/understandAperture/"
           data-tag="摄影"
           data-author="" >
            <span class="post-title" title="摄影入门课程：认识光圈">摄影入门课程：认识光圈</span>
            <span class="post-date" title="2024-10-04 00:00:00">2024/10/04</span>
        </a>
        
        
        <a  class="全部文章 摄影 "
           href="/2024/10/04/understandComposition/"
           data-tag="摄影"
           data-author="" >
            <span class="post-title" title="摄影入门课程：空间感——透视、前景与背景、平面构图">摄影入门课程：空间感——透视、前景与背景、平面构图</span>
            <span class="post-date" title="2024-10-04 00:00:00">2024/10/04</span>
        </a>
        
        
        <a  class="全部文章 摄影 "
           href="/2024/10/04/understandFocusLength/"
           data-tag="摄影"
           data-author="" >
            <span class="post-title" title="摄影入门课程：认识焦距与不同焦距的镜头">摄影入门课程：认识焦距与不同焦距的镜头</span>
            <span class="post-date" title="2024-10-04 00:00:00">2024/10/04</span>
        </a>
        
        
        <a  class="全部文章 摄影 "
           href="/2024/10/04/understandFocusing/"
           data-tag="摄影"
           data-author="" >
            <span class="post-title" title="摄影入门课程：认识对焦模式和对焦的作用">摄影入门课程：认识对焦模式和对焦的作用</span>
            <span class="post-date" title="2024-10-04 00:00:00">2024/10/04</span>
        </a>
        
        
        <a  class="全部文章 摄影 "
           href="/2024/10/04/understandIOS/"
           data-tag="摄影"
           data-author="" >
            <span class="post-title" title="摄影入门课程：认识IOS">摄影入门课程：认识IOS</span>
            <span class="post-date" title="2024-10-04 00:00:00">2024/10/04</span>
        </a>
        
        
        <a  class="全部文章 摄影 "
           href="/2024/10/04/understandPerspective/"
           data-tag="摄影"
           data-author="" >
            <span class="post-title" title="摄影入门课程：认识视角">摄影入门课程：认识视角</span>
            <span class="post-date" title="2024-10-04 00:00:00">2024/10/04</span>
        </a>
        
        
        <a  class="全部文章 摄影 "
           href="/2024/10/04/understandScene/"
           data-tag="摄影"
           data-author="" >
            <span class="post-title" title="摄影入门课程：认识景别">摄影入门课程：认识景别</span>
            <span class="post-date" title="2024-10-04 00:00:00">2024/10/04</span>
        </a>
        
        
        <a  class="全部文章 摄影 "
           href="/2024/10/04/understandShootingMode/"
           data-tag="摄影"
           data-author="" >
            <span class="post-title" title="摄影入门课程：认识拍摄模式">摄影入门课程：认识拍摄模式</span>
            <span class="post-date" title="2024-10-04 00:00:00">2024/10/04</span>
        </a>
        
        
        <a  class="全部文章 摄影 "
           href="/2024/10/04/understandShutter/"
           data-tag="摄影"
           data-author="" >
            <span class="post-title" title="摄影入门课程：认识快门">摄影入门课程：认识快门</span>
            <span class="post-date" title="2024-10-04 00:00:00">2024/10/04</span>
        </a>
        
        
        <a  class="全部文章 摄影 "
           href="/2024/10/04/understandWhiteBalance/"
           data-tag="摄影"
           data-author="" >
            <span class="post-title" title="摄影入门课程：认识白平衡">摄影入门课程：认识白平衡</span>
            <span class="post-date" title="2024-10-04 00:00:00">2024/10/04</span>
        </a>
        
        
        <a  class="全部文章 摄影 "
           href="/2024/10/04/understandingExposure/"
           data-tag="摄影"
           data-author="" >
            <span class="post-title" title="摄影入门课程：认识曝光">摄影入门课程：认识曝光</span>
            <span class="post-date" title="2024-10-04 00:00:00">2024/10/04</span>
        </a>
        
        
        <a  class="全部文章 英语 "
           href="/2024/10/04/xiabingbaoSpeakingSkill/"
           data-tag="English,Speaking"
           data-author="" >
            <span class="post-title" title="夏冰雹英语口语技巧">夏冰雹英语口语技巧</span>
            <span class="post-date" title="2024-10-04 00:00:00">2024/10/04</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/10/03/AOPProxy/"
           data-tag="spring,设计模式"
           data-author="" >
            <span class="post-title" title="设计模式：代理模式">设计模式：代理模式</span>
            <span class="post-date" title="2024-10-03 00:00:00">2024/10/03</span>
        </a>
        
        
        <a  class="全部文章 摄影 "
           href="/2024/10/03/HowToUseCameraM50/"
           data-tag="摄影"
           data-author="" >
            <span class="post-title" title="摄影：如何使用M50进行简单的拍摄">摄影：如何使用M50进行简单的拍摄</span>
            <span class="post-date" title="2024-10-03 00:00:00">2024/10/03</span>
        </a>
        
        
        <a  class="全部文章 运维 "
           href="/2024/10/03/HuaweiCloud/"
           data-tag="华为云"
           data-author="" >
            <span class="post-title" title="服务器：华为云服务器的基本使用">服务器：华为云服务器的基本使用</span>
            <span class="post-date" title="2024-10-03 00:00:00">2024/10/03</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/10/03/Log4j2QuickStart/"
           data-tag="Log4j2"
           data-author="" >
            <span class="post-title" title="日志框架：Log4j2快速入门">日志框架：Log4j2快速入门</span>
            <span class="post-date" title="2024-10-03 00:00:00">2024/10/03</span>
        </a>
        
        
        <a  class="全部文章 运维 "
           href="/2024/10/03/MacOSTransferLinux/"
           data-tag="Linux,MacOS"
           data-author="" >
            <span class="post-title" title="MacOS传输文件到Linux上">MacOS传输文件到Linux上</span>
            <span class="post-date" title="2024-10-03 00:00:00">2024/10/03</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/10/03/SpringAop/"
           data-tag="spring"
           data-author="" >
            <span class="post-title" title="Spring：AOP的使用">Spring：AOP的使用</span>
            <span class="post-date" title="2024-10-03 00:00:00">2024/10/03</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/10/03/SpringDeclarativeTransaction/"
           data-tag="spring"
           data-author="" >
            <span class="post-title" title="Spring：声明式事务">Spring：声明式事务</span>
            <span class="post-date" title="2024-10-03 00:00:00">2024/10/03</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/10/03/SpringProgramaticTransaction/"
           data-tag="spring"
           data-author="" >
            <span class="post-title" title="Spring：编程式事务">Spring：编程式事务</span>
            <span class="post-date" title="2024-10-03 00:00:00">2024/10/03</span>
        </a>
        
        
        <a  class="全部文章 工具 "
           href="/2024/10/03/haloTencentDockerBlog/"
           data-tag="docker,halo,腾讯云"
           data-author="" >
            <span class="post-title" title="在腾讯云服务器上使用docker搭建halo博客系统">在腾讯云服务器上使用docker搭建halo博客系统</span>
            <span class="post-date" title="2024-10-03 00:00:00">2024/10/03</span>
        </a>
        
        
        <a  class="全部文章 食物 "
           href="/2024/10/03/koreanCutPieces/"
           data-tag="甜品"
           data-author="" >
            <span class="post-title" title="甜品：韩式切件">甜品：韩式切件</span>
            <span class="post-date" title="2024-10-03 00:00:00">2024/10/03</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/10/03/spring6QuickStart/"
           data-tag="spring"
           data-author="" >
            <span class="post-title" title="Spring快速入门">Spring快速入门</span>
            <span class="post-date" title="2024-10-03 00:00:00">2024/10/03</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/10/03/springAnnotationBean/"
           data-tag="spring"
           data-author="" >
            <span class="post-title" title="Spring：基于注解管理Bean">Spring：基于注解管理Bean</span>
            <span class="post-date" title="2024-10-03 00:00:00">2024/10/03</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/10/03/springIOCPrinciple/"
           data-tag="spring"
           data-author="" >
            <span class="post-title" title="Spring：IOC原理">Spring：IOC原理</span>
            <span class="post-date" title="2024-10-03 00:00:00">2024/10/03</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/10/03/springJDBC/"
           data-tag="spring,JDBC"
           data-author="" >
            <span class="post-title" title="Spring：整合JDBC">Spring：整合JDBC</span>
            <span class="post-date" title="2024-10-03 00:00:00">2024/10/03</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/10/03/springJunit/"
           data-tag="spring,Junit"
           data-author="" >
            <span class="post-title" title="Spring：整合Junit">Spring：整合Junit</span>
            <span class="post-date" title="2024-10-03 00:00:00">2024/10/03</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/10/03/springTransactionField/"
           data-tag="spring"
           data-author="" >
            <span class="post-title" title="Spring：事务的属性">Spring：事务的属性</span>
            <span class="post-date" title="2024-10-03 00:00:00">2024/10/03</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/10/03/springXmlBean/"
           data-tag="spring"
           data-author="" >
            <span class="post-title" title="Spring：基于xml管理Bean">Spring：基于xml管理Bean</span>
            <span class="post-date" title="2024-10-03 00:00:00">2024/10/03</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/10/03/writeIOCByHand/"
           data-tag="spring"
           data-author="" >
            <span class="post-title" title="Spring：手写IOC">Spring：手写IOC</span>
            <span class="post-date" title="2024-10-03 00:00:00">2024/10/03</span>
        </a>
        
        
        <a  class="全部文章 工具 "
           href="/2024/09/29/closeCheckJDKForUpdate/"
           data-tag="idea"
           data-author="" >
            <span class="post-title" title="idea：关闭check JDK for update">idea：关闭check JDK for update</span>
            <span class="post-date" title="2024-09-29 16:19:10">2024/09/29</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/25/InstallMySQL8/"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySQL的安装、卸载和启动">MySQL的安装、卸载和启动</span>
            <span class="post-date" title="2024-09-25 00:00:00">2024/09/25</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/25/MySQLLock/"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySQL：锁">MySQL：锁</span>
            <span class="post-date" title="2024-09-25 00:00:00">2024/09/25</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/25/MysqlIndex/"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySQL的索引原理和语法">MySQL的索引原理和语法</span>
            <span class="post-date" title="2024-09-25 00:00:00">2024/09/25</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/25/SQLTips/"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySQL：建议MySQL使用哪个索引">MySQL：建议MySQL使用哪个索引</span>
            <span class="post-date" title="2024-09-25 00:00:00">2024/09/25</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/25/SQLOptimization/"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySQL：SQL优化">MySQL：SQL优化</span>
            <span class="post-date" title="2024-09-25 00:00:00">2024/09/25</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/25/combinedIndexColumnIndex/"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySQL:联合索引和单列索引">MySQL:联合索引和单列索引</span>
            <span class="post-date" title="2024-09-25 00:00:00">2024/09/25</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/25/coveringIndex/"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySQL：覆盖索引与回表">MySQL：覆盖索引与回表</span>
            <span class="post-date" title="2024-09-25 00:00:00">2024/09/25</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/25/indexDesign/"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySQL：如何设计索引">MySQL：如何设计索引</span>
            <span class="post-date" title="2024-09-25 00:00:00">2024/09/25</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/25/invalidIndex/"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySQL：索引失效">MySQL：索引失效</span>
            <span class="post-date" title="2024-09-25 00:00:00">2024/09/25</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/25/mysqlEngine/"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySQL的存储引擎">MySQL的存储引擎</span>
            <span class="post-date" title="2024-09-25 00:00:00">2024/09/25</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/25/performanceAnalysis/"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySQL：慢查询日志、profile、explain">MySQL：慢查询日志、profile、explain</span>
            <span class="post-date" title="2024-09-25 00:00:00">2024/09/25</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/25/prefixIndex/"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySQL：前缀索引">MySQL：前缀索引</span>
            <span class="post-date" title="2024-09-25 00:00:00">2024/09/25</span>
        </a>
        
        
        <a  class="全部文章 工具 "
           href="/2024/09/24/expandVM/"
           data-tag="Linux,VMware"
           data-author="" >
            <span class="post-title" title="VMware：虚拟机扩容">VMware：虚拟机扩容</span>
            <span class="post-date" title="2024-09-24 16:19:10">2024/09/24</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/22/redisPubSub/"
           data-tag="redis"
           data-author="" >
            <span class="post-title" title="Redis订阅发布">Redis订阅发布</span>
            <span class="post-date" title="2024-09-22 15:21:35">2024/09/22</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/17/redisProblem/"
           data-tag="redis"
           data-author="" >
            <span class="post-title" title="Redis：缓存穿透、缓存击穿和缓存雪崩">Redis：缓存穿透、缓存击穿和缓存雪崩</span>
            <span class="post-date" title="2024-09-17 16:33:10">2024/09/17</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/17/redisPersistence/"
           data-tag="redis,RDB,AOF"
           data-author="" >
            <span class="post-title" title="Redis持久化">Redis持久化</span>
            <span class="post-date" title="2024-09-17 16:20:10">2024/09/17</span>
        </a>
        
        
        <a  class="全部文章 工具 "
           href="/2024/09/17/GH013/"
           data-tag="github,hexo"
           data-author="" >
            <span class="post-title" title="github:由于push了敏感字段被拒">github:由于push了敏感字段被拒</span>
            <span class="post-date" title="2024-09-17 16:19:10">2024/09/17</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/17/redisTransaction/"
           data-tag="redis"
           data-author="" >
            <span class="post-title" title="redis的事务">redis的事务</span>
            <span class="post-date" title="2024-09-17 16:12:10">2024/09/17</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/17/redisType/"
           data-tag="redis"
           data-author="" >
            <span class="post-title" title="redis常用数据类型">redis常用数据类型</span>
            <span class="post-date" title="2024-09-17 16:04:10">2024/09/17</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/17/redisBrief/"
           data-tag="redis,NoSql"
           data-author="" >
            <span class="post-title" title="redis与NoSql的简单介绍">redis与NoSql的简单介绍</span>
            <span class="post-date" title="2024-09-17 15:59:10">2024/09/17</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/17/redisSentinel/"
           data-tag="Linux,CentOS,虚拟机,redis"
           data-author="" >
            <span class="post-title" title="Redis：主从复制与哨兵模式">Redis：主从复制与哨兵模式</span>
            <span class="post-date" title="2024-09-17 15:59:10">2024/09/17</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/17/redis7SpringBoot/"
           data-tag="redis,springboot,Jedis,RedisTemplate"
           data-author="" >
            <span class="post-title" title="springboot整合redis">springboot整合redis</span>
            <span class="post-date" title="2024-09-17 15:42:10">2024/09/17</span>
        </a>
        
        
        <a  class="全部文章 运维 "
           href="/2024/09/17/redis7Install/"
           data-tag="CentOS,redis,前锋教育"
           data-author="" >
            <span class="post-title" title="Redis的安装、卸载、启动和客户端">Redis的安装、卸载、启动和客户端</span>
            <span class="post-date" title="2024-09-17 15:19:10">2024/09/17</span>
        </a>
        
        
        <a  class="全部文章 前端 "
           href="/2024/09/17/BasicFrontend/"
           data-tag="JavaScript,Js,ES6,vue,element-ui"
           data-author="" >
            <span class="post-title" title="前端：ES5和Vue的基本用法">前端：ES5和Vue的基本用法</span>
            <span class="post-date" title="2024-09-17 00:00:00">2024/09/17</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/17/OAuth2/"
           data-tag="spring,OAuth2"
           data-author="" >
            <span class="post-title" title="OAuth2和spring">OAuth2和spring</span>
            <span class="post-date" title="2024-09-17 00:00:00">2024/09/17</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/17/SpringCloudBaseUse/"
           data-tag="SpringCloud,Nacos,Feign,Getway"
           data-author="" >
            <span class="post-title" title="SpringCloud：基本使用">SpringCloud：基本使用</span>
            <span class="post-date" title="2024-09-17 00:00:00">2024/09/17</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/17/adminSystem/"
           data-tag="element-ui,SpringCloud,Feign,gulimall,Prettier,ESLint,跨域,JSR303,OSS,阿里云"
           data-author="" >
            <span class="post-title" title="谷粒商城：后台管理系统要点">谷粒商城：后台管理系统要点</span>
            <span class="post-date" title="2024-09-17 00:00:00">2024/09/17</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/17/giliEnviroment/"
           data-tag="idea,docker,maven,renren-fast,git,nvm,node.js,npm"
           data-author="" >
            <span class="post-title" title="谷粒商城：环境搭建">谷粒商城：环境搭建</span>
            <span class="post-date" title="2024-09-17 00:00:00">2024/09/17</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/17/springsecurity/"
           data-tag="springSecurity"
           data-author="" >
            <span class="post-title" title="SpringSecurity">SpringSecurity</span>
            <span class="post-date" title="2024-09-17 00:00:00">2024/09/17</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/09/16/MysqlTransaction/"
           data-tag="Mysql"
           data-author="" >
            <span class="post-title" title="Mysql的事物">Mysql的事物</span>
            <span class="post-date" title="2024-09-16 14:31:10">2024/09/16</span>
        </a>
        
        
        <a  class="全部文章 工具 "
           href="/2024/09/10/CannotResolve/"
           data-tag="Maven"
           data-author="" >
            <span class="post-title" title="环境问题：Cannot Resolve">环境问题：Cannot Resolve</span>
            <span class="post-date" title="2024-09-10 16:19:10">2024/09/10</span>
        </a>
        
        
        <a  class="全部文章 工具 "
           href="/2024/09/10/LoadProblem/"
           data-tag="Spring boot test,Spring"
           data-author="" >
            <span class="post-title" title="环境问题：Failed to load ApplicationContext">环境问题：Failed to load ApplicationContext</span>
            <span class="post-date" title="2024-09-10 16:19:10">2024/09/10</span>
        </a>
        
        
        <a  class="全部文章 工具 "
           href="/2024/09/10/MavenProblem/"
           data-tag="Maven"
           data-author="" >
            <span class="post-title" title="环境问题：Maven Dependencies消失问题">环境问题：Maven Dependencies消失问题</span>
            <span class="post-date" title="2024-09-10 16:19:10">2024/09/10</span>
        </a>
        
        
        <a  class="全部文章 运维 "
           href="/2024/09/08/finalshell/"
           data-tag="Linux,finalshell,CentOS,虚拟机"
           data-author="" >
            <span class="post-title" title="finalshell与Linux虚拟机的网络配置">finalshell与Linux虚拟机的网络配置</span>
            <span class="post-date" title="2024-09-08 22:19:10">2024/09/08</span>
        </a>
        
        
        <a  class="全部文章 英语 "
           href="/2024/03/25/rabbitGrammer/"
           data-tag="English,grammer"
           data-author="" >
            <span class="post-title" title="英语兔英语语法">英语兔英语语法</span>
            <span class="post-date" title="2024-03-25 23:12:24">2024/03/25</span>
        </a>
        
        
        <a  class="全部文章 工具 "
           href="/2024/03/25/hexoStartFast/"
           data-tag="hexo"
           data-author="" >
            <span class="post-title" title="hexo搭建静态博客">hexo搭建静态博客</span>
            <span class="post-date" title="2024-03-25 22:14:10">2024/03/25</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/03/25/PythonBase/"
           data-tag="python"
           data-author="" >
            <span class="post-title" title="Python语法基数">Python语法基数</span>
            <span class="post-date" title="2024-03-25 22:08:07">2024/03/25</span>
        </a>
        
        
        <a  class="全部文章 英语 "
           href="/2023/12/14/heqiongListening/"
           data-tag="listening"
           data-author="" >
            <span class="post-title" title="何琼雅思听力">何琼雅思听力</span>
            <span class="post-date" title="2023-12-14 00:00:00">2023/12/14</span>
        </a>
        
        
        <a  class="全部文章 财经 "
           href="/2023/05/23/EconomicMachine/"
           data-tag="economy"
           data-author="" >
            <span class="post-title" title="经济机器是怎样运行的——RayDalio">经济机器是怎样运行的——RayDalio</span>
            <span class="post-date" title="2023-05-23 00:00:00">2023/05/23</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2020/12/29/java-01-install/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="java:概述+安装">java:概述+安装</span>
            <span class="post-date" title="2020-12-29 00:00:00">2020/12/29</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2020/12/29/java-02-grammar/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="java:基本语法">java:基本语法</span>
            <span class="post-date" title="2020-12-29 00:00:00">2020/12/29</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2020/12/29/java-03-array/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="java:数组">java:数组</span>
            <span class="post-date" title="2020-12-29 00:00:00">2020/12/29</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2020/12/29/java-05-exception/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="java:异常">java:异常</span>
            <span class="post-date" title="2020-12-29 00:00:00">2020/12/29</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2020/12/29/java-06-thread/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="java:多线程">java:多线程</span>
            <span class="post-date" title="2020-12-29 00:00:00">2020/12/29</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2020/12/29/java-04-opp/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="java:面向对象">java:面向对象</span>
            <span class="post-date" title="2020-12-29 00:00:00">2020/12/29</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2020/12/29/java-07-string/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="java:字符串">java:字符串</span>
            <span class="post-date" title="2020-12-29 00:00:00">2020/12/29</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2020/12/29/java-08-time/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="java:时间相关API">java:时间相关API</span>
            <span class="post-date" title="2020-12-29 00:00:00">2020/12/29</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2020/12/29/java-09-sort/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="java:比较器">java:比较器</span>
            <span class="post-date" title="2020-12-29 00:00:00">2020/12/29</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2020/12/29/java-10-enum/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="java:枚举">java:枚举</span>
            <span class="post-date" title="2020-12-29 00:00:00">2020/12/29</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2020/12/29/java-11-annotation/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="java:注解">java:注解</span>
            <span class="post-date" title="2020-12-29 00:00:00">2020/12/29</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2020/12/29/java-12-collection/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="java:集合">java:集合</span>
            <span class="post-date" title="2020-12-29 00:00:00">2020/12/29</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2020/12/29/java-13-generics/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="java:泛型">java:泛型</span>
            <span class="post-date" title="2020-12-29 00:00:00">2020/12/29</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2020/12/29/java-15-net/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="java:网络编程">java:网络编程</span>
            <span class="post-date" title="2020-12-29 00:00:00">2020/12/29</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2020/12/29/java-14-IO/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="java:IO流">java:IO流</span>
            <span class="post-date" title="2020-12-29 00:00:00">2020/12/29</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2020/12/29/java-16-reflect/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="java:反射">java:反射</span>
            <span class="post-date" title="2020-12-29 00:00:00">2020/12/29</span>
        </a>
        
        
        <a  class="全部文章 运维 "
           href="/2020/07/13/dockerBase/"
           data-tag="docker"
           data-author="" >
            <span class="post-title" title="docker 基础">docker 基础</span>
            <span class="post-date" title="2020-07-13 20:46:25">2020/07/13</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2020/01/01/MySQLCrashCourse/"
           data-tag="MySql"
           data-author="" >
            <span class="post-title" title="MySQL:必知必会">MySQL:必知必会</span>
            <span class="post-date" title="2020-01-01 00:00:00">2020/01/01</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2020/01/01/RocketMq/"
           data-tag="mq"
           data-author="" >
            <span class="post-title" title="RocketMq:分布式消息队列">RocketMq:分布式消息队列</span>
            <span class="post-date" title="2020-01-01 00:00:00">2020/01/01</span>
        </a>
        
        
        <a  class="全部文章 "
           href="/2019/09/29/java-17-new8/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="java8新特性：lambda表达式+Stream流">java8新特性：lambda表达式+Stream流</span>
            <span class="post-date" title="2019-09-29 00:00:00">2019/09/29</span>
        </a>
        
        
        <a  class="全部文章 "
           href="/2019/09/29/java-18-above8/"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="java8以后的新特性">java8以后的新特性</span>
            <span class="post-date" title="2019-09-29 00:00:00">2019/09/29</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-adminSystem" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">谷粒商城：后台管理系统要点</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="后端">后端</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color1">element-ui</a>
            
            <a class="color2">SpringCloud</a>
            
            <a class="color1">Feign</a>
            
            <a class="color4">gulimall</a>
            
            <a class="color4">Prettier</a>
            
            <a class="color2">ESLint</a>
            
            <a class="color3">跨域</a>
            
            <a class="color2">JSR303</a>
            
            <a class="color4">OSS</a>
            
            <a class="color4">阿里云</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            发布时间 : <time class="date" title='最后更新: 2024-09-17 18:57:44'>2024-09-17 00:00</time>
        
    </div>
    <div class="article-meta">
        
        <span>字数:11.9k</span>
        
        
        <span id="busuanzi_container_page_pv">
            阅读 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E7%BA%A7%E5%88%86%E7%B1%BB"><span class="toc-text">三级分类</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5%E5%95%86%E5%93%81%E6%9C%8D%E5%8A%A1%E6%95%B0%E6%8D%AE"><span class="toc-text">导入商品服务数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%92%E5%BD%92%E6%A0%91%E5%BD%A2%E7%BB%93%E6%9E%84%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE"><span class="toc-text">递归树形结构获取数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E%E8%8F%9C%E5%8D%95"><span class="toc-text">新增菜单</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Prettier-%E4%B8%8E-ESLint"><span class="toc-text">Prettier 与 ESLint</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%91%E5%90%8E%E5%8F%B0%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82%E5%B9%B6%E9%85%8D%E7%BD%AE%E7%BD%91%E5%85%B3"><span class="toc-text">向后台发送请求并配置网关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E5%85%B3%E9%85%8D%E7%BD%AE"><span class="toc-text">网关配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%A8%E5%9F%9F"><span class="toc-text">跨域</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%91%E5%BD%A2%E6%98%BE%E7%A4%BA%E6%95%B0%E6%8D%AE"><span class="toc-text">树形显示数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E9%80%BB%E8%BE%91%E5%88%A0%E9%99%A4"><span class="toc-text">配置逻辑删除</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8B%96%E6%8B%BD%E5%8A%9F%E8%83%BD"><span class="toc-text">拖拽功能</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#draggable%E5%B1%9E%E6%80%A7"><span class="toc-text">draggable属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#allow-drop"><span class="toc-text">allow-drop</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%A1%E9%AA%8C%E6%80%BB%E5%B1%82%E7%BA%A7%E4%B8%8D%E8%83%BD%E5%A4%A7%E4%BA%8E3"><span class="toc-text">校验总层级不能大于3</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#node-drop"><span class="toc-text">node-drop</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%85%B3%E9%94%AE%E7%82%B9%E8%AE%B2%E8%A7%A3"><span class="toc-text">代码关键点讲解</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9%E6%8B%96%E6%8B%BD%E5%90%8E%E7%9A%84%E6%95%88%E6%9E%9C"><span class="toc-text">批量修改拖拽后的效果</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-text">其他</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%95%86%E5%93%81%E6%9C%8D%E5%8A%A1"><span class="toc-text">商品服务</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E7%94%9F%E6%88%90%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81"><span class="toc-text">逆向工程生成前端代码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%BC%80%E5%85%B3%E7%BB%84%E4%BB%B6"><span class="toc-text">使用开关组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E5%8A%9F%E8%83%BD"><span class="toc-text">文件上传功能</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E7%9A%84%E6%95%B4%E4%BD%93%E6%80%9D%E8%B7%AF"><span class="toc-text">文件上传的整体思路</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E4%BA%91%E5%AD%98%E5%82%A8"><span class="toc-text">为什么需要云存储</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%BF%E9%87%8C%E4%BA%91%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-text">阿里云对象存储两种方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8E%E7%AB%AF%EF%BC%9A%E6%95%B4%E5%90%88%E9%98%BF%E9%87%8C%E4%BA%91%E7%9A%84OSS"><span class="toc-text">后端：整合阿里云的OSS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%EF%BC%9A%E4%B8%8A%E4%BC%A0%E7%BB%84%E4%BB%B6"><span class="toc-text">前端：上传组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8el-upload%E5%B0%81%E8%A3%85singleUpload%E7%BB%84%E4%BB%B6"><span class="toc-text">使用el-upload封装singleUpload组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8singleUpload%E7%BB%84%E4%BB%B6"><span class="toc-text">使用singleUpload组件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%A1%E9%AA%8C%E6%95%B0%E6%8D%AE"><span class="toc-text">校验数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%EF%BC%9A%E8%A1%A8%E5%8D%95%E6%A0%A1%E9%AA%8C"><span class="toc-text">前端：表单校验</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8E%E7%AB%AF%EF%BC%9AJSR303-%E7%BB%9F%E4%B8%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-text">后端：JSR303+统一异常处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8"><span class="toc-text">简单使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%9F%E4%B8%80%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-text">统一的异常处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E6%A0%A1%E9%AA%8C"><span class="toc-text">分组校验</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%A1%E9%AA%8C"><span class="toc-text">自定义校验</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B9%B3%E5%8F%B0%E5%B1%9E%E6%80%A7"><span class="toc-text">平台属性</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#element%EF%BC%9A%E9%97%B4%E9%9A%94%E6%A0%8F"><span class="toc-text">element：间隔栏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6%E4%BC%A0%E9%80%92%E6%95%B0%E6%8D%AE-emit"><span class="toc-text">父子组件传递数据 $emit</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E5%86%99%E5%AD%90%E7%BB%84%E4%BB%B6"><span class="toc-text">编写子组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8%E7%88%B6%E7%BB%84%E4%BB%B6%E4%B8%8A%E7%BB%91%E5%AE%9A%E4%BA%8B%E4%BB%B6"><span class="toc-text">在父组件上绑定事件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cascader-%E7%BA%A7%E8%81%94%E9%80%89%E6%8B%A9%E5%99%A8"><span class="toc-text">Cascader 级联选择器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2%EF%BC%9A"><span class="toc-text">分页查询：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E9%A1%B5%E7%9A%84%E4%BB%A3%E7%A0%81"><span class="toc-text">分页的代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6%EF%BC%9A"><span class="toc-text">配置分页插件：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9E%E6%98%BE%E7%BA%A7%E8%81%94%E9%80%89%E6%8B%A9%E5%99%A8%E7%9A%84%E5%AE%8C%E6%95%B4%E8%B7%AF%E5%BE%84"><span class="toc-text">回显级联选择器的完整路径</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8mapper-xml"><span class="toc-text">使用mapper.xml</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Object%E5%88%92%E5%88%86"><span class="toc-text">Object划分</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BA%E7%8E%B0%E5%BC%82%E5%B8%B8"><span class="toc-text">出现异常</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%95%86%E5%93%81%E6%9C%8D%E5%8A%A1-1"><span class="toc-text">商品服务</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BA%E7%8E%B0%E7%9A%84%E5%BC%82%E5%B8%B8"><span class="toc-text">出现的异常</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#PubSub-is-not-defined"><span class="toc-text">PubSub is not defined</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#webpack-dev-server-not-found"><span class="toc-text">webpack-dev-server: not found</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E6%8E%92%E6%9F%A5%E9%94%99%E8%AF%AF%E7%9A%84%E5%B0%8Ftips"><span class="toc-text">前端排查错误的小tips</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Could-not-autowire"><span class="toc-text">Could not autowire</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#idea-%E8%AE%BE%E7%BD%AE%E6%9C%80%E5%A4%A7%E5%8D%A0%E7%94%A8%E5%86%85%E5%AD%98"><span class="toc-text">idea 设置最大占用内存</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#feign-could-not-be-found"><span class="toc-text">feign could not be found</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#html%E4%BB%A3%E7%A0%81%E5%A6%82%E4%BD%95%E5%B5%8C%E5%A5%97%E6%B3%A8%E9%87%8A"><span class="toc-text">html代码如何嵌套注释</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Controller%E5%8F%AA%E5%81%9A%E4%B8%89%E4%BB%B6%E4%BA%8B"><span class="toc-text">Controller只做三件事</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%8A%E8%87%AA%E5%A2%9E%E4%B8%BB%E9%94%AE%E8%AE%BE%E7%BD%AE%E4%B8%BA%E8%BE%93%E5%85%A5"><span class="toc-text">把自增主键设置为输入</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%93%E5%BA%93%E7%AE%A1%E7%90%86"><span class="toc-text">仓库管理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#invalid-token"><span class="toc-text">invalid token</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Too-many-connections"><span class="toc-text">Too many connections</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="三级分类"><a href="#三级分类" class="headerlink" title="三级分类"></a>三级分类</h1><h2 id="导入商品服务数据"><a href="#导入商品服务数据" class="headerlink" title="导入商品服务数据"></a>导入商品服务数据</h2><p>遇到如下问题：</p>
<blockquote>
<p>1153 - Got a packet bigger than ‘max_allowed_packet’ bytes</p>
</blockquote>
<p>是因为mysql默认读取的sql文件太小导致。</p>
<p>在MySQL安装目录下找到文件my.cnf，搜索[mysqld]，在其下面添加一句话</p>
<pre><code>max_allowed_packet=1M
</code></pre>
<p>然后重启mysql。</p>
<p>在docker环境下这么操作：</p>
<pre><code class="bash"># 查看msyql容器的挂载情况：
root@hcss-ecs-1b9f:~# docker inspect mysql 
        &quot;Mounts&quot;: [
            &#123;
                &quot;Type&quot;: &quot;bind&quot;,
                &quot;Source&quot;: &quot;/mydata/mysql/conf&quot;,
                &quot;Destination&quot;: &quot;/etc/mysql&quot;,
                &quot;Mode&quot;: &quot;&quot;,
                &quot;RW&quot;: true,
                &quot;Propagation&quot;: &quot;rprivate&quot;
            &#125;
        ],
# 进入到conf目录，修改配置
root@hcss-ecs-1b9f:~# cd /mydata/mysql/conf
root@hcss-ecs-1b9f:/mydata/mysql/conf# ls
my.cnf
root@hcss-ecs-1b9f:/mydata/mysql/conf# vim my.cnf
# 重启 mysql容器
root@hcss-ecs-1b9f:/mydata/mysql/conf# docker restart mysql
</code></pre>
<h2 id="递归树形结构获取数据"><a href="#递归树形结构获取数据" class="headerlink" title="递归树形结构获取数据"></a>递归树形结构获取数据</h2><pre><code class="java">    @Override
    public List&lt;CategoryEntity&gt; listWithTree() &#123;
        //1、查出所有分类
        List&lt;CategoryEntity&gt; entities = baseMapper.selectList(null);

        //2、组装成父子的树形结构

        //2.1）、找到所有的一级分类
        List&lt;CategoryEntity&gt; level1Menus = entities.stream().filter(categoryEntity -&gt;
             categoryEntity.getParentCid() == 0 // 过滤出一级分类
        ).map((menu)-&gt;&#123;// 再找出一级的子类
            menu.setChildren(getChildrens(menu,entities));
            return menu;
        &#125;).sorted((menu1,menu2)-&gt;&#123;
            return (menu1.getSort()==null?0:menu1.getSort()) - (menu2.getSort()==null?0:menu2.getSort());
        &#125;).collect(Collectors.toList());

        return level1Menus;
    &#125;

    private List&lt;CategoryEntity&gt; getChildrens(CategoryEntity root,List&lt;CategoryEntity&gt; all)&#123;

        List&lt;CategoryEntity&gt; children = all.stream()
                // 在所有菜单中，过滤出对应父类的子类
                //.filter(categoryEntity -&gt; categoryEntity.getParentCid() == root.getCatId())
                .filter(categoryEntity -&gt; categoryEntity.getParentCid().equals(root.getCatId()))
                .map(categoryEntity -&gt; &#123;
            //1、找到子菜单
            categoryEntity.setChildren(getChildrens(categoryEntity,all));
            return categoryEntity;
        &#125;).sorted((menu1,menu2)-&gt;&#123;
            //2、菜单的排序
            return (menu1.getSort()==null?0:menu1.getSort()) - (menu2.getSort()==null?0:menu2.getSort());
        &#125;).collect(Collectors.toList());
        return children;
    &#125;
</code></pre>
<blockquote>
<p>[!WARNING]</p>
<p><code>categoryEntity.getParentCid() == root.getCatId()</code>比较的是两个<code>Long</code>类型。这时，<code>==</code>比较的是地址值</p>
<pre><code class="java">    @Test
    public void test2()&#123;
        Long a =888L;
        Long b =888L;
        Long c = 25L;
        Long d = 25L;
        if(a==b)&#123; // 不相等
            System.out.println(&quot;相等&quot;);
        &#125;else &#123;
            System.out.println(&quot;不相等&quot;);
        &#125;
        if(c==d)&#123;// 相等
            System.out.println(&quot;相等&quot;);
        &#125;else &#123;
            System.out.println(&quot;不相等&quot;);
        &#125;
    &#125;
</code></pre>
<p>LongCache会预先缓存 [-128,127] 范围内的数，通过缓存频繁请求的值代来更好的空间和时间性能，当数据超出此范围，则new一个Long对象；</p>
<p>“&#x3D;&#x3D;”是比较的地址，超出此范围的数据地址不一致，所以范围内的比较是true，范围外的数据是false。</p>
</blockquote>
<p>另外需要在实体类中，再添加一个字段</p>
<pre><code class="java">    @TableField(exist=false)
    private List&lt;CategoryEntity&gt; children;
</code></pre>
<h2 id="新增菜单"><a href="#新增菜单" class="headerlink" title="新增菜单"></a>新增菜单</h2><p>新增<strong>商品系统（一级菜单）</strong>，如图：</p>
<img src="adminSystem/061.png"  width="450px" />

<p>新增的数据会存在<code>gulimall_admin</code>的<code>sys_menu</code>里面</p>
<p><strong>新增分类维护（二级菜单）</strong>：</p>
<img src="adminSystem/062.png"  width="350px" />

<p>当我们点击分类维护时，访问的路径为：<code>http://localhost:8001/#/product-category</code></p>
<p>系统的运行规则是这样的：</p>
<ul>
<li><p>角色管理的菜单URL为：sys&#x2F;role</p>
</li>
<li><p>当我们访问角色管理菜单的时候，访问路径为：<code>http://localhost:8001/#/sys-role</code>。</p>
</li>
<li><p>并且会去访问<code>src/views/modules/sys/role.vue</code>这个组件</p>
<img src="adminSystem/063.png"  width="250px" /></li>
</ul>
<p>所以，对于新增的分类维护页面，我们需要新建一个<code>product</code>目录和<code>category.vue</code>文件</p>
<h3 id="Prettier-与-ESLint"><a href="#Prettier-与-ESLint" class="headerlink" title="Prettier 与 ESLint"></a>Prettier 与 ESLint</h3><p>Prettier：格式化代码</p>
<p>ESLint：代码校验</p>
<p>prettier的常用设置，可放入settings.json文件中：</p>
<pre><code class="json">  // prettier配置
  &quot;prettier.configPath&quot;: &quot;C:\\Users\\Luck\\.prettierrc&quot;, // prettierrc文件目录
  &quot;eslint.alwaysShowStatus&quot;: true, // 总是显示eslint状态
  &quot;prettier.printWidth&quot;: 120, // 超过最大值换行
  &quot;prettier.tabWidth&quot;: 2, // 缩进字节数
  &quot;prettier.useTabs&quot;: false, // 缩进不使用tab，使用空格
  &quot;prettier.semi&quot;: true, // 句尾添加分号
  &quot;prettier.singleQuote&quot;: true, // 使用单引号代替双引号
  &quot;prettier.proseWrap&quot;: &quot;preserve&quot;, // 默认值。因为使用了一些折行敏感型的渲染器（如GitHub comment）而按照markdown文本样式进行折行
  &quot;prettier.arrowParens&quot;: &quot;avoid&quot;, //  (x) =&gt; &#123;&#125; 箭头函数参数只有一个时是否要有小括号。avoid：省略括号
  &quot;prettier.bracketSpacing&quot;: true, // 在对象，数组括号与文字之间加空格 &quot;&#123; foo: bar &#125;&quot;
  &quot;prettier.endOfLine&quot;: &quot;auto&quot;, // 结尾是 \n \r \n\r auto
  &quot;prettier.eslintIntegration&quot;: false, //不让prettier使用eslint的代码格式进行校验
  &quot;prettier.htmlWhitespaceSensitivity&quot;: &quot;ignore&quot;,
  &quot;prettier.ignorePath&quot;: &quot;.prettierignore&quot;, // 不使用prettier格式化的文件填写在项目的.prettierignore文件中
  &quot;prettier.BracketSameLine&quot;: false, // 在jsx中把&#39;&gt;&#39; 是否单独放一行
  &quot;prettier.jsxSingleQuote&quot;: false, // 在jsx中使用单引号代替双引号
  // &quot;prettier.parser&quot;: &quot;babylon&quot;, // 格式化的解析器，默认是babylon
  &quot;prettier.requireConfig&quot;: false, // Require a &#39;prettierconfig&#39; to format prettier
  &quot;prettier.stylelintIntegration&quot;: false, //不让prettier使用stylelint的代码格式进行校验
  &quot;prettier.trailingComma&quot;: &quot;none&quot;, // 属性值es5表示在对象或数组最后一个元素后面是否加逗号（在ES5中加尾逗号）
  &quot;prettier.tslintIntegration&quot;: false, // 不让prettier使用tslint的代码格式进行校验
</code></pre>
<p><strong>prettier的失效问题：</strong></p>
<img src="adminSystem/065.png"  width="550px" />

<p>由于prettier插件优先使用项目根目录下的<strong>editorconfig配置文件</strong>，所以在vscode中怎么配置有没有用</p>
<img src="adminSystem/066.png"  width="250px" />

<p><strong>prettier在保存的时候格式化代码：</strong></p>
<img src="adminSystem/064.png"  width="450px" />

<p>ESLint和Prettier起冲突：禁用掉ESLint某些校验，因为有些校验确实太繁琐了。</p>
<p>在<code>.eslintrc.js</code>文件里做如下配置：</p>
<pre><code class="js">  rules: &#123;
    // allow async-await
    &#39;generator-star-spacing&#39;: &#39;off&#39;,
    // allow debugger during development
    &#39;no-debugger&#39;: process.env.NODE_ENV === &#39;production&#39; ? &#39;error&#39; : &#39;off&#39;,
    &quot;space-before-function-paren&quot;: 0, // 个人配置，0表示不启用
    &quot;no-irregular-whitespace&quot;:0 // 个人配置，0表示不启用
  &#125;
</code></pre>
<h2 id="向后台发送请求并配置网关"><a href="#向后台发送请求并配置网关" class="headerlink" title="向后台发送请求并配置网关"></a>向后台发送请求并配置网关</h2><h3 id="网关配置"><a href="#网关配置" class="headerlink" title="网关配置"></a>网关配置</h3><p>发送请求</p>
<pre><code class="js">    getMenus() &#123;
      this.$http(&#123;
        url: this.$http.adornUrl(&#39;/product/category/list/tree&#39;),
        method: &#39;get&#39;// get请求还是post请求等
      &#125;).then((&#123; data &#125;) =&gt; &#123;
        console.log(&#39;成功获取到菜单数据...&#39;, data.data)
        this.menus = data.data
      &#125;)
    &#125;,
</code></pre>
<p>在这个文件中：<code>src/utils/httpRequest.js</code></p>
<p>这里创建了axios</p>
<pre><code class="js">const http = axios.create(&#123;
  timeout: 1000 * 30,
  withCredentials: true,
  headers: &#123;
    &#39;Content-Type&#39;: &#39;application/json; charset=utf-8&#39;
  &#125;
&#125;)
</code></pre>
<p>这个方法在拼接url地址：</p>
<pre><code class="js">/**
 * 请求地址处理
 * @param &#123;*&#125; actionName action方法名称
 */
http.adornUrl = (actionName) =&gt; &#123;
  // 非生产环境 &amp;&amp; 开启代理, 接口前缀统一使用[/proxyApi/]前缀做代理拦截!
  return (process.env.NODE_ENV !== &#39;production&#39; &amp;&amp; process.env.OPEN_PROXY ? &#39;/proxyApi/&#39; : window.SITE_CONFIG.baseUrl) + actionName
&#125;
</code></pre>
<p>最终我们向后台发送的请求为：<code>http://localhost:8080/renren-fast/product/category/list/tree</code></p>
<p>我们期望方式的请求为：<code>http://localhost:10000/product/category/list/tree</code></p>
<p>前端项目定义的基础路径在：<code>static/config/index.js</code>里面</p>
<pre><code class="js">  // api接口请求地址
  // window.SITE_CONFIG[&#39;baseUrl&#39;] = &#39;http://localhost:8080/renren-fast&#39;;
  window.SITE_CONFIG[&#39;baseUrl&#39;] = &#39;http://localhost:88/api&#39; // 改成网关端口
</code></pre>
<p>改成网关端口，让网关同意路由到不同服务上。</p>
<p>当改成网关之后，不仅要重新登录，而且验证码也没了：</p>
<img src="adminSystem/067.png"  width="350px" />

<p>获取验证码的请求：<code>http://localhost:88/captcha.jpg?uuid=e5eecf90-2c2d-4fd9-81c5-d43c7e2b4faa</code></p>
<p>验证码功能是在<code>renern-fast</code>项目。这需要<code>renren-fast</code>项目，注册到nacos，接受网关的管理</p>
<ul>
<li><p>注册到nacos服务器</p>
<ul>
<li><p>配置应用名</p>
</li>
<li><p>配置nacos的ip地址</p>
</li>
<li><p>映入nacos的依赖</p>
</li>
<li><p><code>@EnableDiscoveryClient</code></p>
</li>
</ul>
</li>
<li><p>配置负载均衡&#x2F;路由(gateway项目)</p>
<pre><code class="yaml">spring:
  cloud:
    gateway:
      routes:
        - id: admin_route
          uri: lb://renren-fast # lb表示负载均衡，
          predicates:
            - Path=/api/** # 只要有api这个前缀，就路由到 renren-fast 这个项目
</code></pre>
</li>
<li><p>重新启动项目，但是仍然没有出现验证码，原因如下</p>
<p><code>http://localhost:88/api/captcha.jpg?uuid=b68205dd-ea18-4309-873f-0f1c97b664b1</code></p>
<p>这个请求有<code>/api</code>，会被路由到<code>renren-fast</code>项目，</p>
<ul>
<li><p>项目路径会变为：<code>http://localhost:8080</code>(由于这个配置：uri: lb:&#x2F;&#x2F;renren-fast)+<code>/api/captcha.jpg</code></p>
</li>
<li><p>但真正正确的路径为：<code> http://localhost:8080/renren-fast/captcha.jpg</code></p>
</li>
</ul>
</li>
<li><p>需要从写路径</p>
<pre><code class="yaml">spring:
  cloud:
    gateway:
      routes:
        - id: admin_route
          uri: lb://renren-fast # lb表示负载均衡，
          predicates:
            - Path=/api/** # 只要有api这个前缀，就路由到 renren-fast 这个项目
          filters:
            # 意思是：把/api/... 重写为 /renren-fast/...
            - RewritePath=/api/(?&lt;segment&gt;.*),/renren-fast/$\&#123;segment&#125;
</code></pre>
<p>重写之后，验证码出现了</p>
<img src="adminSystem/068.png"  width="350px" />

<p>但是仍然登录失败，以下为控制台信息。是由于跨域问题</p>
<pre><code>Access to XMLHttpRequest at &#39;http://localhost:88/api/sys/login&#39; from origin &#39;http://localhost:8001&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.
</code></pre>
</li>
</ul>
<h3 id="跨域"><a href="#跨域" class="headerlink" title="跨域"></a>跨域</h3><p><strong>跨域</strong>：指的是浏览器不能执行其他网站的脚本。它是由浏览器的<strong>同源策略</strong>造成的，是浏览器对javascript施加的<strong>安全限制</strong>。<br><strong>同源策略</strong>：是指<strong>协议，域名，端口都要相同</strong>，其中有一个不同都会产生跨域;</p>
<img src="adminSystem/069.png"  width="550px" />

<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS">非简单请求</a>(PUT、DELETE)等，需要先发送预检请求</p>
<img src="adminSystem/070.png"  width="550px" />

<p><strong>解决跨域的方式：</strong></p>
<ul>
<li><p>使用Nginx部署为同一域</p>
<img src="adminSystem/071.png"  width="550px" />
</li>
<li><p>配置当前请求允许跨域：<strong>添加响应头</strong></p>
<ul>
<li><p>Access-Control-Allow-Origin:支持哪些来源的请求跨域。</p>
</li>
<li><p>Access-Control-Allow-Methods:支持哪些方法跨域</p>
</li>
<li><p>Access-Control-Allow-Credentials:跨域请求默认不包含cookie，设置为true可以包含cookie。</p>
</li>
<li><p>Access-Control-Expose-Headers:跨域请求暴露的字段</p>
<ul>
<li>CORS请求时，XMLHttpRequest对象的getResponseHeader()方法只能拿到6个基本字段:Cache-Control、Content-Language、Content-Type、Expires、Last-Modified、Pragma.如果想拿到其他字段，就必须在Access-Control-Expose-Headers里面指定。</li>
</ul>
</li>
<li><p>Access-Control-Max-Age:表明该响应的有效时间为多少秒。在有效时间内，浏览器无须为同一请求再次发起预检请求。请注意，浏览器自身维护了一个最大有效时间，如果该首部字段的值超过了最大有效时间，将不会生效，</p>
</li>
</ul>
</li>
</ul>
<pre><code class="java">import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.web.cors.CorsConfiguration;
import org.springframework.web.cors.reactive.CorsWebFilter;
// 使用reactive的
import org.springframework.web.cors.reactive.UrlBasedCorsConfigurationSource;

@Configuration
public class GulimallCorsConfiguration &#123;

    @Bean
    public CorsWebFilter corsWebFilter()&#123;
        // UrlBasedCorsConfigurationSource 配置跨域的配置信息
        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();

        CorsConfiguration corsConfiguration = new CorsConfiguration();

        //1、配置跨域: * 表示所有
        corsConfiguration.addAllowedHeader(&quot;*&quot;);
        corsConfiguration.addAllowedMethod(&quot;*&quot;);
        corsConfiguration.addAllowedOrigin(&quot;*&quot;);
        // 是否允许cookie信息跨域，true表示允许
        corsConfiguration.setAllowCredentials(true);
        // `/**` 表示任意路径都需要跨域配置
        source.registerCorsConfiguration(&quot;/**&quot;,corsConfiguration);

        return new CorsWebFilter(source);
    &#125;
&#125;
</code></pre>
<p>配置完之后还是报错：</p>
<pre><code>Access to XMLHttpRequest at &#39;http://localhost:88/api/sys/login&#39; from origin &#39;http://localhost:8001&#39; has been blocked by CORS policy: The &#39;Access-Control-Allow-Origin&#39; header contains multiple values &#39;http://localhost:8001, http://localhost:8001&#39;, but only one is allowed.
</code></pre>
<img src="adminSystem/072.png"  width="550px" />

<p>观察响应头发现，GulimallCorsConfiguration里面配置的都生效了，但是有重复的内容</p>
<p>这是由于<code>renren-fast</code>也配置了跨域，把它注释掉：</p>
<pre><code class="java">//@Configuration
public class CorsConfig implements WebMvcConfigurer &#123;

    @Override
    public void addCorsMappings(CorsRegistry registry) &#123;
        registry.addMapping(&quot;/**&quot;)
                .allowedOrigins(&quot;*&quot;)
                .allowCredentials(true)
                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;)
                .maxAge(3600);
    &#125;
&#125;
</code></pre>
<p>最后正常进入后台管理系统</p>
<h2 id="树形显示数据"><a href="#树形显示数据" class="headerlink" title="树形显示数据"></a>树形显示数据</h2><p>给<code>gulimall-product</code>注册nacos</p>
<ul>
<li><p>nacos依赖</p>
</li>
<li><p>创建命名空间</p>
</li>
<li><p>配置bootstrap文件，可以是yaml的，也可以是properties</p>
</li>
<li><p>配置中心的地址+注册中心的地址：bootstrap文件。建议放在本地</p>
</li>
<li><p><code>@EnableDiscoveryClient</code></p>
</li>
</ul>
<p>配置路由：</p>
<ul>
<li><p>注意路由的顺序：先过滤<code>Path=/api/product/**</code>（范围更小），再过滤<code>Path=/api/**</code>（范围更大）。否则<code>this.$http.adornUrl(&#39;/product/category/list/tree&#39;)</code> 会被转发到<code>renren-fast</code>模块</p>
<pre><code class="yaml">spring:
  cloud:
    gateway:
      routes:
        - id: product_route
          uri: lb://gulimall-product
          predicates:
            - Path=/api/product/**
          filters: # /api/... --&gt; /..(去掉api)
            - RewritePath=/api/(?&lt;segment&gt;.*),/$\&#123;segment&#125;   
        - id: admin_route
          uri: lb://renren-fast # lb表示负载均衡，
          predicates:
            - Path=/api/** # 只要有api这个前缀，就路由到 renren-fast 这个项目
          filters:
            # 意思是：把/api/... 重写为 /renren-fast/...
            - RewritePath=/api/(?&lt;segment&gt;.*),/renren-fast/$\&#123;segment&#125;
</code></pre>
</li>
</ul>
<h2 id="配置逻辑删除"><a href="#配置逻辑删除" class="headerlink" title="配置逻辑删除"></a>配置逻辑删除</h2><p>逻辑删除的后端配置：</p>
<ol>
<li><p>全局配置</p>
<pre><code class="yaml">mybatis-plus:
  mapper-locations: classpath:/mapper/**/*.xml
  global-config:
    db-config:
      id-type: auto
      logic-delete-value: 1 #逻辑删除：1表示删除
      logic-not-delete-value: 0 # 逻辑删除：0表示不删除
</code></pre>
</li>
<li><p>在entity上配置逻辑删除的属性，加<code>@TableLogic</code></p>
<pre><code class="java">    @TableLogic
    private Integer showStatus;
</code></pre>
</li>
<li><p>如果我们希望和全局配置不一致，可以怎么设置</p>
<pre><code class="java">// 配置后：1表示不删除，0表示删除	
 @TableLogic(value = &quot;1&quot;,delval = &quot;0&quot;)
    private Integer showStatus;
</code></pre>
</li>
</ol>
<h2 id="拖拽功能"><a href="#拖拽功能" class="headerlink" title="拖拽功能"></a>拖拽功能</h2><h3 id="draggable属性"><a href="#draggable属性" class="headerlink" title="draggable属性"></a>draggable属性</h3><p>开启拖拽功能：添加<code>draggable</code>属性，ture表示开启拖拽功能</p>
<p>并且加入开关功能</p>
<pre><code class="js"> &lt;el-switch v-model=&quot;draggable&quot; active-text=&quot;开启拖拽&quot; inactive-text=&quot;关闭拖拽&quot;&gt;&lt;/el-switch&gt;


data() &#123;
    return &#123;
      draggable: false,
    &#125;
  &#125;,
</code></pre>
<img src="adminSystem/075.png"  width="250px" />

<img src="adminSystem/076.png"  width="250px" />

<p>draggable默认为false（不可以拖拽，开关默认关闭），打开开关，会使draggable变为true（可以拖拽）。这是v-model的作用。</p>
<h3 id="allow-drop"><a href="#allow-drop" class="headerlink" title="allow-drop"></a>allow-drop</h3><ul>
<li><p>是一个函数：Function(draggingNode, dropNode, type)</p>
<ul>
<li>draggingNode：当前拖拽的节点</li>
<li>type：当前节点被放定的位置</li>
<li>dropNode：和被拖节点交换位置的节点</li>
<li>Return true：可以拖拽到这个位置，Return false：不可以拖拽到这个位置</li>
</ul>
</li>
<li><p>拖拽时判定目标节点能否被放置。<code>type</code> 参数有三种情况：</p>
<ul>
<li>‘prev’：放置在目标节点前，目标节点为<code>dropNode</code></li>
<li>‘inner’ ：插入至目标节点，目标节点为<code>dropNode</code></li>
<li>‘next’，放置在目标节点后，目标节点为<code>dropNode</code></li>
</ul>
</li>
<li><p>使用：<code>:allow-drop=&quot;allowDrop&quot;</code>。绑定一个函数allowDrop</p>
</li>
</ul>
<blockquote>
<p>如图所示：</p>
<img src="adminSystem/073.png"  width="250px" />

<p>T3.2放在整车上面，那么draggingNode&#x3D;T3.2，type&#x3D;prev，dropNode&#x3D;整车</p>
<img src="adminSystem/074.png"  width="250px" />

<p>如果T2放在T3里面，那么draggingNode&#x3D;T2，type&#x3D;inner，dropNode&#x3D;T3</p>
</blockquote>
<h4 id="校验总层级不能大于3"><a href="#校验总层级不能大于3" class="headerlink" title="校验总层级不能大于3"></a>校验总层级不能大于3</h4><pre><code class="js">&lt;el-tree
      :allow-drop=&quot;allowDrop&quot;
    &gt;
        
    // 判断是否可以拖拽到这个位置
    allowDrop(draggingNode, dropNode, type) &#123;
      // debugger
      // 1、被拖动的当前节点以及所在的父节点总层数不能大于3

      // 1）、被拖动的当前节点总层数
      // console.log(draggingNode)
      console.log(&#39;------1111---------&#39;)
      console.log(&#39;draggingNode:&#39;, draggingNode.level, draggingNode.data.name)
      console.log(&#39;dropNode:&#39;, dropNode.level, dropNode.data.name)
      console.log(&#39;type:&#39;, type)

      // 先把maxLevel设置为初始值
      this.maxLevel = 0

      // 计算 被拖动到节点  到 子节点最深的地方  一共有几层

      // 计算子节点的深度
      this.countNodeLevel(draggingNode)

      // 拖动节点 ---&gt; 最深子节点 的 长度
      // --- 比如 拖动节点 level = 2 ， 最深子节点 = 3
      // --- 整个被拖动的有两层
      let deep = Math.abs(this.maxLevel - draggingNode.level) + 1
      console.log(&#39;深度：&#39;, deep)
      // this.maxLevel
      if (type === &#39;inner&#39;) &#123;
        return deep + dropNode.level &lt;= 3
      &#125; else &#123;
        return deep + dropNode.parent.level &lt;= 3
      &#125;
    &#125;,
    // 找出当前子节点最大深度：
    countNodeLevel(node) &#123;
      // 找到所有子节点，求出最大深度
      if (node.childNodes !== null &amp;&amp; node.childNodes.length &gt; 0) &#123;
        // 如果存在子节点：就遍历子节点
        for (let i = 0; i &lt; node.childNodes.length; i++) &#123;
          this.maxLevel = node.childNodes[i].level
          this.countNodeLevel(node.childNodes[i])
        &#125;
      &#125; else &#123;
        // 如果不存在子节点：那么最大层级maxLevel就是其本身
        this.maxLevel = node.level
      &#125;
    &#125;,
</code></pre>
<h3 id="node-drop"><a href="#node-drop" class="headerlink" title="node-drop"></a>node-drop</h3><p><code>node-drop</code>：拖拽成功完成时触发的事件。<code>handleDrop(draggingNode, dropNode, dropType, ev)</code></p>
<ul>
<li>draggingNode：被拖拽节点对应的 Node</li>
<li>dropNode：和被拖拽节点交换位置的节点</li>
<li>dropType：被拖拽节点的放置位置（before、after、inner）</li>
<li>event：这个目前没什么用</li>
</ul>
<p>handleDrop的前三个参数和allowDrop的三个参数的意义是一致的</p>
<p>在业务上，拖拽会改变如下内容：</p>
<ul>
<li>parent_cid：会改变上一级Id</li>
<li>cat_level：层级</li>
<li>sort：会改变顺序（before和after）</li>
</ul>
<h4 id="代码关键点讲解"><a href="#代码关键点讲解" class="headerlink" title="代码关键点讲解"></a>代码关键点讲解</h4><pre><code class="js">&lt;el-tree
      @node-drop=&quot;handleDrop&quot;
    &gt;
  
handleDrop(draggingNode, dropNode, dropType, ev) &#123;
      console.log(&#39;draggingNode&#39;, draggingNode)
      console.log(&#39;dropNode&#39;, dropNode)
      console.log(&#39;dropType&#39;, dropType)
      console.log(&#39;event&#39;, ev)
      // 1、当前节点最新的父节点id
      let pCidOne = 0
      let siblings = null
      if (dropType === &#39;before&#39; || dropType === &#39;after&#39;) &#123;
        // draggingNode的父节点
        pCidOne = dropNode.parent.data.catId === undefined ? 0 : dropNode.parent.data.catId
        siblings = dropNode.parent.childNodes // draggingNode的同级的所有node
      &#125; else &#123;
        pCidOne = dropNode.data.catId // draggingNode的父节点
        siblings = dropNode.childNodes // draggingNode的同级的所有node
      &#125;
      // 所有父节点的信息：是为了实现其他功能的
      this.pCid.push(pCidOne)

      // 2、当前拖拽节点的最新顺序，
      for (let i = 0; i &lt; siblings.length; i++) &#123;
        if (siblings[i].data.catId === draggingNode.data.catId) &#123;
          // 如果遍历的是当前正在拖拽的节点：修改sort，parentCid 和 catLevel
          debugger
          let catLevel = draggingNode.level
          //
          if (siblings[i].level !== draggingNode.level) &#123;
            // 当前节点的层级发生变化
            catLevel = siblings[i].level
            // 修改他子节点的层级：catLevel
            this.updateChildNodeLevel(siblings[i])
          &#125;
          this.updateNodes.push(&#123;
            catId: siblings[i].data.catId,
            sort: i, // 初始的sort都是0，在这里我们根据用户的拖拽给category排序
            parentCid: pCidOne,
            catLevel: catLevel
          &#125;)
        &#125; else &#123;
          // 如果遍历的节点不是当前拖拽的节点: 修改sort

          this.updateNodes.push(&#123; catId: siblings[i].data.catId, sort: i &#125;)
        &#125;
      &#125;

      // 3、当前拖拽节点的最新层级
      console.log(&#39;updateNodes&#39;, this.updateNodes)
    &#125;,
    updateChildNodeLevel(node) &#123;
      if (node.childNodes.length &gt; 0) &#123;
        for (let i = 0; i &lt; node.childNodes.length; i++) &#123;
          var cNode = node.childNodes[i].data
          this.updateNodes.push(&#123;
            catId: cNode.catId,
            // node中的level是随着拖拽的变化而变化的
            catLevel: node.childNodes[i].level
          &#125;)
          this.updateChildNodeLevel(node.childNodes[i])
        &#125;
      &#125;
    &#125;,
</code></pre>
<p><code>siblings</code>和<code>draggingNode</code>的关系：<code>siblings</code>是<code>draggingNode</code>同一层级下的所有node的集合</p>
<p>通过三个例子理解<code>siblings</code></p>
<ul>
<li><p>情况一：t1和t2相互交换位置，Type&#x3D;“after”或者“before”</p>
<img src="adminSystem/077.png"  width="250px" />

<p><code>siblings[i].level=draggingNode.level=2</code></p>
<p>parentCid也不会变</p>
<p>同一级的sort会变化</p>
</li>
<li><p>情况二：把t3放在“整车”的前面或者后面，Type&#x3D;“after”或者“before”</p>
<img src="adminSystem/078.png"  width="250px" />

<p><code>siblings[i].level=1≠draggingNode.level=2</code></p>
<p>现在t3和“整车”是同一级，那么parentCid，sort和catLevel都会变，</p>
</li>
<li><p>情况三：把t2.2放入t3里面，Type&#x3D;inner，</p>
<img src="adminSystem/079.png"  width="250px" />

<p><code>siblings[i].level=draggingNode.level=2</code></p>
<p>catLevel不变，sort会变</p>
</li>
</ul>
<h3 id="批量修改拖拽后的效果"><a href="#批量修改拖拽后的效果" class="headerlink" title="批量修改拖拽后的效果"></a>批量修改拖拽后的效果</h3><pre><code class="js">&lt;el-switch v-model=&quot;draggable&quot; active-text=&quot;开启拖拽&quot; inactive-text=&quot;关闭拖拽&quot;&gt;&lt;/el-switch&gt;
&lt;el-button v-if=&quot;draggable&quot; @click=&quot;batchSave&quot;&gt;批量保存&lt;/el-button&gt;
 &lt;!-- default-expanded-keys 设置默认展开菜单  --&gt;
&lt;el-tree
      :default-expanded-keys=&quot;expandedKey&quot;
  &gt;  

data() &#123;
    return &#123;
     expandedKey: [],
    &#125;
  &#125;,

    batchSave() &#123;
      this.$http(&#123;
        url: this.$http.adornUrl(&#39;/product/category/update/sort&#39;),
        method: &#39;post&#39;,
        data: this.$http.adornData(this.updateNodes, false)
      &#125;).then((&#123; data &#125;) =&gt; &#123;
        this.$message(&#123;
          message: &#39;菜单顺序等修改成功&#39;,
          type: &#39;success&#39;
        &#125;)
        // 刷新出新的菜单
        this.getMenus()
        // 设置需要默认展开的菜单
        this.expandedKey = this.pCid
        this.updateNodes = []
        this.maxLevel = 0
        // this.pCid = 0;
      &#125;)
    &#125;,
</code></pre>
<p>其中<code>this.expandedKey = this.pCid</code>中的<code>pCid</code>，是在上一个步骤中的这段代码<code>this.pCid.push(pCidOne)</code>中设置的。</p>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>其他的，比如正删改查，或者批量删除，树形图的显示，都可以去看代码和比较<a target="_blank" rel="noopener" href="https://element.eleme.cn/#/zh-CN/component/tree">element-ui</a>看</p>
<h1 id="商品服务"><a href="#商品服务" class="headerlink" title="商品服务"></a>商品服务</h1><h2 id="逆向工程生成前端代码"><a href="#逆向工程生成前端代码" class="headerlink" title="逆向工程生成前端代码"></a>逆向工程生成前端代码</h2><img src="adminSystem/080.png"  width="450px" />

<p>新增和修改是需要校验权限的：<code>isAuth</code></p>
<pre><code class="js">&lt;el-form-item&gt;
  &lt;el-button @click=&quot;getDataList()&quot;&gt;查询&lt;/el-button&gt;
  &lt;el-button v-if=&quot;isAuth(&#39;product:brand:save&#39;)&quot; type=&quot;primary&quot; @click=&quot;addOrUpdateHandle()&quot;&gt;新增&lt;/el-button&gt;
  &lt;el-button
    v-if=&quot;isAuth(&#39;product:brand:delete&#39;)&quot;
    type=&quot;danger&quot;
    @click=&quot;deleteHandle()&quot;
    :disabled=&quot;dataListSelections.length &lt;= 0&quot;
  &gt;
    批量删除
  &lt;/el-button&gt;
&lt;/el-form-item&gt;
</code></pre>
<p><code>isAuth</code>是在<code>src/utils/index.js</code>里面定义的。</p>
<p>出于开发的需要，把这些点注释掉</p>
<pre><code class="js">/**
 * 是否有权限
 * @param &#123;*&#125; key
 */
export function isAuth(key) &#123;
  // return JSON.parse(sessionStorage.getItem(&#39;permissions&#39;) || &#39;[]&#39;).indexOf(key) !== -1 || false
  return true
&#125;
</code></pre>
<h2 id="使用开关组件"><a href="#使用开关组件" class="headerlink" title="使用开关组件"></a>使用开关组件</h2><p><strong>展示栏：</strong></p>
<pre><code class="js">// :active-value=&quot;1&quot; 启用，赋予的值是1；:inactive-value=&quot;0&quot;不启用，赋予的值是0
//  @change=&quot;updateBrandStatus(scope.row)&quot; 开关每发生变化，就会调用updateBrandStatus
// v-model=&quot;scope.row.showStatus&quot; 这里的socpe就在整行的数据
&lt;el-table-column prop=&quot;showStatus&quot; header-align=&quot;center&quot; align=&quot;center&quot; label=&quot;显示状态&quot;&gt;
        &lt;template slot-scope=&quot;scope&quot;&gt;
          &lt;el-switch
            v-model=&quot;scope.row.showStatus&quot;
            active-color=&quot;#13ce66&quot;
            inactive-color=&quot;#ff4949&quot;
            :active-value=&quot;1&quot;
            :inactive-value=&quot;0&quot;
            @change=&quot;updateBrandStatus(scope.row)&quot;
          &gt;&lt;/el-switch&gt;
        &lt;/template&gt;
      &lt;/el-table-column&gt;

    updateBrandStatus(data) &#123;
      console.log(&#39;最新信息&#39;, data)
      let &#123; brandId, showStatus &#125; = data
      //发送请求修改状态
      this.$http(&#123;
        url: this.$http.adornUrl(&#39;/product/brand/update/status&#39;),
        method: &#39;post&#39;,
        data: this.$http.adornData(&#123; brandId, showStatus &#125;, false)
      &#125;).then((&#123; data &#125;) =&gt; &#123;
        this.$message(&#123;
          type: &#39;success&#39;,
          message: &#39;状态更新成功&#39;
        &#125;)
      &#125;)
    &#125;,
</code></pre>
<p><strong>新增修改栏：</strong></p>
<pre><code class="js">&lt;el-form-item label=&quot;显示状态&quot; prop=&quot;showStatus&quot;&gt;
  &lt;el-switch
    v-model=&quot;dataForm.showStatus&quot;
    active-color=&quot;#13ce66&quot;
    inactive-color=&quot;#ff4949&quot;
    :active-value=&quot;1&quot;
    :inactive-value=&quot;0&quot;
  &gt;&lt;/el-switch&gt;
&lt;/el-form-item&gt;
</code></pre>
<h2 id="文件上传功能"><a href="#文件上传功能" class="headerlink" title="文件上传功能"></a>文件上传功能</h2><h3 id="文件上传的整体思路"><a href="#文件上传的整体思路" class="headerlink" title="文件上传的整体思路"></a>文件上传的整体思路</h3><h4 id="为什么需要云存储"><a href="#为什么需要云存储" class="headerlink" title="为什么需要云存储"></a>为什么需要云存储</h4><ol>
<li><p>单体应用：将文件上传到应用的服务器</p>
<img src="adminSystem/081.png"  width="350px" />
</li>
<li><p>分布式情况下</p>
<p>如果只上传到本地服务器就会有问题。因为其他服务器无法共享文件</p>
<img src="adminSystem/082.png"  width="350px" />

<p>解决方式：把文件统一放在同一个服务器下。其他服务想使用对应文件，就只需要调用该服务器。</p>
<img src="adminSystem/083.png"  width="550px" /></li>
</ol>
<h4 id="阿里云对象存储两种方式"><a href="#阿里云对象存储两种方式" class="headerlink" title="阿里云对象存储两种方式"></a>阿里云对象存储两种方式</h4><ol>
<li><p>普通上传：用户 通过浏览器&#x2F;手机应用 将图片上传到应用服务器，应用服务通过在将图片上传到OSS服务器，OSS接收图片并存储后，将存储地址返回给应用服务器，应用服务器在返回给用户。</p>
<p>这种方式的缺点：需要通过自己的服务器，占用服务器带宽，增加服务器的压力</p>
<p>优点：不会暴露密码信息，比较安全</p>
<img src="adminSystem/084.png"  width="350px" />
</li>
<li><p>服务端签名后直传：</p>
<ul>
<li>将OSS的账户密码存在应用服务器里面</li>
<li>用户向服务器发请求，获取Policy</li>
<li>服务器利用阿里云的账户和密码，生成一个防伪签名，里面包含了访问阿里云的令牌和地址等信息</li>
<li>用户带着防伪签名，将文件直接上传到OSS</li>
</ul>
<img src="adminSystem/085.png"  width="350px" /></li>
</ol>
<h3 id="后端：整合阿里云的OSS"><a href="#后端：整合阿里云的OSS" class="headerlink" title="后端：整合阿里云的OSS"></a>后端：整合阿里云的OSS</h3><p>最新的操作指南应该参考<a target="_blank" rel="noopener" href="https://help.aliyun.com/zh/oss/developer-reference/form-upload-1">官方文档</a></p>
<p>使用SpringCloudAlibaba封装的OSS：<a target="_blank" rel="noopener" href="https://github.com/alibaba/aliyun-spring-boot/blob/master/aliyun-spring-boot-samples/aliyun-oss-spring-boot-sample/README-zh.md">官方文档</a></p>
<ol>
<li><p>开通阿里云对象存储</p>
</li>
<li><p>再创建一个模块：<code>gulimall-third-party</code>。这个模块主要负责第三方服务，如：对象存储、发送短信、查物流。</p>
</li>
<li><p>引入对象村粗的依赖：</p>
<pre><code class="xml">&lt;dependency&gt;
  &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;
  &lt;artifactId&gt;spring-cloud-starter-alicloud-oss&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
<p>其里面引入了OSS的依赖：</p>
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;com.aliyun.oss&lt;/groupId&gt;
    &lt;artifactId&gt;aliyun-sdk-oss&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
</li>
<li><p>第三方服务注册地注册中心</p>
</li>
<li><p>配置阿里云对象存储的相关信息</p>
<pre><code class="yaml">spring:
  cloud:
    alicloud:
      access-key: 阿里云生成
      secret-key: 阿里云生成
      oss:
        endpoint: oss-cn-beijing.aliyuncs.com
        bucket: gulimall-hello
</code></pre>
</li>
<li><p>服务端签名直传</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://help.aliyun.com/zh/oss/use-cases/java-1?spm=a2c4g.11186623.0.i50#concept-ahk-rfz-2fb">最新代码样例</a></p>
</li>
<li><p>代码</p>
<pre><code class="java">@RestController
public class OssController &#123;

    @Autowired
    OSS ossClient;

    @Value(&quot;$&#123;spring.cloud.alicloud.oss.endpoint&#125;&quot;)
    private String endpoint;
    @Value(&quot;$&#123;spring.cloud.alicloud.oss.bucket&#125;&quot;)
    private String bucket;

    @Value(&quot;$&#123;spring.cloud.alicloud.access-key&#125;&quot;)
    private String accessId;


    @RequestMapping(&quot;/oss/policy&quot;)
    public R policy() &#123;



        //https://gulimall-hello.oss-cn-beijing.aliyuncs.com/hahaha.jpg

        String host = &quot;https://&quot; + bucket + &quot;.&quot; + endpoint; // host的格式为 bucketname.endpoint
        // callbackUrl为 上传回调服务器的URL，请将下面的IP和Port配置为您自己的真实信息。
//        String callbackUrl = &quot;http://88.88.88.88:8888&quot;;
        String format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(new Date());
        String dir = format + &quot;/&quot;; // 用户上传文件时指定的前缀。

        Map&lt;String, String&gt; respMap = null;
        try &#123;
            long expireTime = 30;
            long expireEndTime = System.currentTimeMillis() + expireTime * 1000;
            Date expiration = new Date(expireEndTime);
            PolicyConditions policyConds = new PolicyConditions();
            policyConds.addConditionItem(PolicyConditions.COND_CONTENT_LENGTH_RANGE, 0, 1048576000);
            policyConds.addConditionItem(MatchMode.StartWith, PolicyConditions.COND_KEY, dir);
                        // 在这里 生成 签名 
            String postPolicy = ossClient.generatePostPolicy(expiration, policyConds);
            byte[] binaryData = postPolicy.getBytes(&quot;utf-8&quot;);
            String encodedPolicy = BinaryUtil.toBase64String(binaryData);
            String postSignature = ossClient.calculatePostSignature(postPolicy);

            respMap = new LinkedHashMap&lt;String, String&gt;();
            respMap.put(&quot;accessid&quot;, accessId);
            respMap.put(&quot;policy&quot;, encodedPolicy);
            respMap.put(&quot;signature&quot;, postSignature);
            respMap.put(&quot;dir&quot;, dir);
            respMap.put(&quot;host&quot;, host);
            respMap.put(&quot;expire&quot;, String.valueOf(expireEndTime / 1000));
            // respMap.put(&quot;expire&quot;, formatISO8601Date(expiration));


        &#125; catch (Exception e) &#123;
            // Assert.fail(e.getMessage());
            System.out.println(e.getMessage());
        &#125;

        return R.ok().put(&quot;data&quot;,respMap);
    &#125;
&#125;
</code></pre>
</li>
</ul>
</li>
</ol>
<h3 id="前端：上传组件"><a href="#前端：上传组件" class="headerlink" title="前端：上传组件"></a>前端：上传组件</h3><h4 id="使用el-upload封装singleUpload组件"><a href="#使用el-upload封装singleUpload组件" class="headerlink" title="使用el-upload封装singleUpload组件"></a>使用el-upload封装singleUpload组件</h4><ul>
<li>src&#x2F;components&#x2F;upload&#x2F;singleUpload.vue</li>
<li>src&#x2F;components&#x2F;upload&#x2F;policy.js：发送给<code>/thirdparty/oss/policy</code>获取Policy</li>
</ul>
<h4 id="使用singleUpload组件"><a href="#使用singleUpload组件" class="headerlink" title="使用singleUpload组件"></a>使用singleUpload组件</h4><ul>
<li><p>src&#x2F;views&#x2F;modules&#x2F;product&#x2F;brand-add-or-update.vue</p>
</li>
<li><p>引入singleUpload</p>
<pre><code class="js">import SingleUpload from &#39;@/components/upload/singleUpload&#39;
export default &#123;
components: &#123; SingleUpload &#125;, // 引入
data() &#123;&#125;,
methods: &#123;&#125;
&#125;
</code></pre>
</li>
<li><p>使用：</p>
<pre><code class="js">&lt;el-form-item label=&quot;品牌logo地址&quot; prop=&quot;logo&quot;&gt;
  &lt;single-upload v-model=&quot;dataForm.logo&quot;&gt;&lt;/single-upload&gt;
&lt;/el-form-item&gt;
</code></pre>
</li>
<li><p><strong>解决跨域问题</strong>：需要登录OSS管理控制台进行设置。具体设置可参考<a target="_blank" rel="noopener" href="https://help.aliyun.com/zh/oss/use-cases/java-1?spm=a2c4g.11186623.0.i50#concept-ahk-rfz-2fb">文档</a></p>
</li>
</ul>
<h2 id="校验数据"><a href="#校验数据" class="headerlink" title="校验数据"></a>校验数据</h2><h3 id="前端：表单校验"><a href="#前端：表单校验" class="headerlink" title="前端：表单校验"></a>前端：表单校验</h3><pre><code class="vue">&lt;template&gt;
  &lt;el-dialog :title=&quot;!dataForm.id ? &#39;新增&#39; : &#39;修改&#39;&quot; :close-on-click-modal=&quot;false&quot; :visible.sync=&quot;visible&quot;&gt;
    &lt;!-- :rules=&quot;dataRule&quot; 绑定校验规则 --&gt;
    &lt;el-form
      :model=&quot;dataForm&quot;
      :rules=&quot;dataRule&quot;
      ref=&quot;dataForm&quot;
      @keyup.enter.native=&quot;dataFormSubmit()&quot;
      label-width=&quot;140px&quot;
    &gt;
      &lt;el-form-item label=&quot;品牌名&quot; prop=&quot;name&quot;&gt;
        &lt;el-input v-model=&quot;dataForm.name&quot; placeholder=&quot;品牌名&quot;&gt;&lt;/el-input&gt;
      &lt;/el-form-item&gt;
      
      
      &lt;el-form-item label=&quot;检索首字母&quot; prop=&quot;firstLetter&quot;&gt;
        &lt;el-input v-model=&quot;dataForm.firstLetter&quot; placeholder=&quot;检索首字母&quot;&gt;&lt;/el-input&gt;
      &lt;/el-form-item&gt;
      &lt;el-form-item label=&quot;排序&quot; prop=&quot;sort&quot;&gt;
        &lt;!-- v-model.number 指代这里接收的是一个number（数字） --&gt;
        &lt;el-input v-model.number=&quot;dataForm.sort&quot; placeholder=&quot;排序&quot;&gt;&lt;/el-input&gt;
      &lt;/el-form-item&gt;
    &lt;/el-form&gt;
    &lt;span slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;
      &lt;el-button @click=&quot;visible = false&quot;&gt;取消&lt;/el-button&gt;
      &lt;el-button type=&quot;primary&quot; @click=&quot;dataFormSubmit()&quot;&gt;确定&lt;/el-button&gt;
    &lt;/span&gt;
  &lt;/el-dialog&gt;
&lt;/template&gt;

&lt;script&gt;
import SingleUpload from &#39;@/components/upload/singleUpload&#39;
export default &#123;
  components: &#123; SingleUpload &#125;,
  data() &#123;
    return &#123;
      visible: false,
      dataForm: &#123;
        brandId: 0,
        name: &#39;&#39;,
        logo: &#39;&#39;,
        descript: &#39;&#39;,
        showStatus: 1,
        firstLetter: &#39;&#39;,
        sort: 0
      &#125;,
      dataRule: &#123;
        // 自带的校验规则：required: true 意思是非空
        name: [&#123; required: true, message: &#39;品牌名不能为空&#39;, trigger: &#39;blur&#39; &#125;],
      
        firstLetter: [
          // 首字母
          &#123;
            // validator 表示自定义校验规则
            validator: (rule, value, callback) =&gt; &#123;
              if (value === &#39;&#39;) &#123;
                callback(new Error(&#39;首字母必须填写&#39;))
              &#125; else if (!/^[a-zA-Z]$/.test(value)) &#123;
                callback(new Error(&#39;首字母必须a-z或者A-Z之间&#39;))
              &#125; else &#123;
                callback() // 校验通过 自定义校验 callback 必须被调用
              &#125;
            &#125;,
            trigger: &#39;blur&#39;
          &#125;
        ],
        sort: [
          &#123;
            // validator 表示自定义校验规则
            validator: (rule, value, callback) =&gt; &#123;
              if (value === &#39;&#39;) &#123;
                callback(new Error(&#39;排序字段必须填写&#39;))
              &#125; else if (!Number.isInteger(value) || value &lt; 0) &#123;
                callback(new Error(&#39;排序必须是一个大于等于0的整数&#39;))
              &#125; else &#123;
                callback() // 校验通过 自定义校验 callback 必须被调用
              &#125;
            &#125;,
            trigger: &#39;blur&#39;
          &#125;
        ]
      &#125;
    &#125;
  &#125;
&#125;
&lt;/script&gt;
</code></pre>
<h3 id="后端：JSR303-统一异常处理"><a href="#后端：JSR303-统一异常处理" class="headerlink" title="后端：JSR303+统一异常处理"></a>后端：JSR303+统一异常处理</h3><h4 id="简单使用"><a href="#简单使用" class="headerlink" title="简单使用"></a>简单使用</h4><ol>
<li><p>给Bean添加校验注解:javax.validation.constraints，并定义自己的message提示。如果自己不给出message提示，默认使用的是<code>ValidationMessages.properties</code>，这个文件下的提示</p>
<pre><code class="java">/**
 * 品牌id
 */
@NotNull(message = &quot;修改必须指定品牌id&quot;)
@TableId
private Long brandId;
/**
 * 品牌logo地址
 */
@NotBlank(groups = &#123;AddGroup.class&#125;)
@URL(message = &quot;logo必须是一个合法的url地址&quot;)
private String logo;
/**
 * 检索首字母：@Pattern 可以传正则表达式，来自定义自己的规则
 */
@Pattern(regexp=&quot;^[a-zA-Z]$&quot;,message = &quot;检索首字母必须是一个字母&quot;)
private String firstLetter;
</code></pre>
</li>
<li><p>开启校验功能<code>@Valid</code>。校验错误以后会有默认的响应。</p>
<pre><code class="java">// @Valid  表示对 BrandEntity 这个bean使用校验注解
@RequestMapping(&quot;/save&quot;)
public R save(@Valid @RequestBody BrandEntity brand)&#123;
    brandService.save(brand);
     return R.ok();
&#125;
</code></pre>
</li>
<li><p>给校验的bean后紧跟一个BindingResult，就可以获取到校验的结果，然后拼装我们自己的响应</p>
<pre><code class="java">// @Valid  表示对 BrandEntity 这个bean使用校验注解
@RequestMapping(&quot;/save&quot;)
public R save(@Valid @RequestBody BrandEntity brand,BindingResult result)&#123;
  // 判断是否有错误
    if(result.hasErrors())&#123;
        Map&lt;String,String&gt; map = new HashMap&lt;&gt;();
        //1、获取校验的错误结果
        result.getFieldErrors().forEach((item)-&gt;&#123;
            //FieldError 获取到错误提示
            String message = item.getDefaultMessage();
            //获取错误的属性的名字
            String field = item.getField();
          // 拼装自己的响应
            map.put(field,message);
        &#125;);

        return R.error(400,&quot;提交的数据不合法&quot;).put(&quot;data&quot;,map);
    &#125;else &#123;

    &#125;
    brandService.save(brand);
  
     return R.ok();
&#125;
</code></pre>
</li>
</ol>
<h4 id="统一的异常处理"><a href="#统一的异常处理" class="headerlink" title="统一的异常处理"></a>统一的异常处理</h4><ol>
<li><p>编写异常处理类，使用<code>@ControllerAdvice</code></p>
</li>
<li><p>使用<code>@ExceptionHandler</code>标注方法可以处理的异常。</p>
<pre><code class="java">/**
 * 集中处理所有异常
 */
@Slf4j
//@ResponseBody // 返回Json格式的数据
// basePackages= &quot;xxxx&quot;:表示在xxxx包下的异常，都由GulimallExceptionControllerAdvice来处理
//@ControllerAdvice(basePackages = &quot;com.atguigu.gulimall.product.controller&quot;)
/*@RestControllerAdvice = @ResponseBody + @ControllerAdvice*/
@RestControllerAdvice(basePackages = &quot;com.atguigu.gulimall.product.controller&quot;)
public class GulimallExceptionControllerAdvice &#123;

    // 里面的value 表示可以处理什么样的异常
    @ExceptionHandler(value= MethodArgumentNotValidException.class)
    public R handleVaildException(MethodArgumentNotValidException e)&#123;
        log.error(&quot;数据校验出现问题&#123;&#125;，异常类型：&#123;&#125;&quot;,e.getMessage(),e.getClass());
        BindingResult bindingResult = e.getBindingResult();

        Map&lt;String,String&gt; errorMap = new HashMap&lt;&gt;();
        bindingResult.getFieldErrors().forEach((fieldError)-&gt;&#123;
            errorMap.put(fieldError.getField(),fieldError.getDefaultMessage());
        &#125;);
        return R.error(BizCodeEnume.VAILD_EXCEPTION.getCode(),BizCodeEnume.VAILD_EXCEPTION.getMsg())
                      .put(&quot;data&quot;,errorMap);
    &#125;

    // 默认先处理具体的，再处理范围更大的，所有 handleException 会后执行
    @ExceptionHandler(value = Throwable.class)
    public R handleException(Throwable throwable)&#123;

        log.error(&quot;错误：&quot;,throwable);
        return R.error(BizCodeEnume.UNKNOW_EXCEPTION.getCode(),BizCodeEnume.UNKNOW_EXCEPTION.getMsg());
    &#125;
&#125;
</code></pre>
</li>
<li><p>在common模块里统一编写枚举类，自定义错误码</p>
<pre><code class="java">/**
 * 错误码和错误信息定义类
 * 1. 错误码定义规则为5为数字
 * 2. 前两位表示业务场景，最后三位表示错误码。例如：100001。10:通用 001:系统未知异常
 * 3. 维护错误码后需要维护错误描述，将他们定义为枚举形式
 * 错误码列表：
 *  10: 通用
 *      001：参数格式校验
 *  11: 商品
 *  12: 订单
 *  13: 购物车
 *  14: 物流
 */
public enum BizCodeEnume &#123;
    UNKNOW_EXCEPTION(10000,&quot;系统未知异常&quot;),
    VAILD_EXCEPTION(10001,&quot;参数格式校验失败&quot;);
    private int code;
    private String msg;
    BizCodeEnume(int code, String msg)&#123;
        this.code = code;
        this.msg = msg;
    &#125;
    public int getCode() &#123;
        return code;
    &#125;
    public String getMsg() &#123;
        return msg;
    &#125;
&#125;
</code></pre>
<h4 id="分组校验"><a href="#分组校验" class="headerlink" title="分组校验"></a>分组校验</h4><p>如果不进行分组校验，那么新增和修改操作，校验的字段和校验的内容都会是一样的</p>
<ol>
<li><p>新增group值</p>
<pre><code class="java">/**
 * 品牌id
 */
// 修改的时候会校验 NotNull，要求不为空
@NotNull(message = &quot;修改必须指定品牌id&quot;,groups = &#123;UpdateGroup.class&#125;)
// 新增的时候会校验 Null，要求为空
@Null(message = &quot;新增不能指定id&quot;,groups = &#123;AddGroup.class&#125;)
@TableId
private Long brandId;
/**
 * 品牌logo地址
 * 新增要求：至少要有一个字符，并且符合URL地址
 * 修改只要符合URL地址
 */
@NotBlank(groups = &#123;AddGroup.class&#125;)
@URL(message = &quot;logo必须是一个合法的url地址&quot;,groups=&#123;AddGroup.class,UpdateGroup.class&#125;)
private String logo;

/**
 * 检索首字母
 */
@NotEmpty(groups=&#123;AddGroup.class&#125;)
@Pattern(regexp=&quot;^[a-zA-Z]$&quot;,message = &quot;检索首字母必须是一个字母&quot;,groups=&#123;AddGroup.class, UpdateGroup.class&#125;)
private String firstLetter;
</code></pre>
</li>
<li><p>新增相关的空接口</p>
<img src="adminSystem/086.png"  width="350px" />

<pre><code class="java">public interface AddGroup &#123;
&#125;
public interface UpdateGroup &#123;
&#125;
</code></pre>
</li>
<li><p>在controller上使用<code>@Validated</code>指定校验分组</p>
<pre><code class="java">@RequestMapping(&quot;/save&quot;)
public R save(@Validated(&#123;AddGroup.class&#125;) @RequestBody BrandEntity brand)&#123;
    brandService.save(brand);
    return R.ok();
&#125;

@RequestMapping(&quot;/update&quot;)
public R update(@Validated(UpdateGroup.class) @RequestBody BrandEntity brand)&#123;
        brandService.updateDetail(brand);
    return R.ok();
&#125;
</code></pre>
<blockquote>
<p>[!WARNING]</p>
<p>如果使用了指定分组，如<code>@Validated(&#123;AddGroup.class&#125;</code>，那么如果在bean里面不分组，对应的校验注解是不起作用的</p>
</blockquote>
</li>
</ol>
<h4 id="自定义校验"><a href="#自定义校验" class="headerlink" title="自定义校验"></a>自定义校验</h4><ol>
<li><p>设计自定义注解：showStatus 的值只能为1或者0</p>
<pre><code class="java">@NotNull(groups = &#123;AddGroup.class, UpdateStatusGroup.class&#125;)
@ListValue(vals=&#123;0,1&#125;,groups = &#123;AddGroup.class, UpdateStatusGroup.class&#125;)
private Integer showStatus;
</code></pre>
</li>
<li><p>创建自定义校验注解</p>
<pre><code class="java">@Documented
// validatedBy 表示使用哪个校验器
@Constraint(validatedBy = &#123; ListValueConstraintValidator.class &#125;)
@Target(&#123; METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE &#125;)
@Retention(RUNTIME)
public @interface ListValue &#123;

    // 在这里配置默认的message信息
    String message() default &quot;&#123;com.atguigu.common.valid.ListValue.message&#125;&quot;;

    Class&lt;?&gt;[] groups() default &#123; &#125;;

    Class&lt;? extends Payload&gt;[] payload() default &#123; &#125;;

    int[] vals() default &#123; &#125;;
&#125;
</code></pre>
<p>message信息配置在这里：<code>src/main/resources/ValidationMessages.properties</code></p>
<pre><code class="properties">com.atguigu.common.valid.ListValue.message=&quot;必须是指定的值&quot;
</code></pre>
</li>
<li><p>创建校验器</p>
<pre><code class="java">/**
 * 需要实现ConstraintValidator接口
 * public interface ConstraintValidator&lt;A extends Annotation, T&gt; &#123;
 *     default void initialize(A constraintAnnotation) &#123;
 *     &#125;
 *
 *     boolean isValid(T var1, ConstraintValidatorContext var2);
 * &#125;
 *      A-- ListValue 校验器绑定的注解
 *      T-- 是校验注解打算用在什么类型的数据上
 * */
public class ListValueConstraintValidator implements ConstraintValidator&lt;ListValue,Integer&gt; &#123;

    private Set&lt;Integer&gt; set = new HashSet&lt;&gt;();
    //初始化方法
    @Override
    public void initialize(ListValue constraintAnnotation) &#123;
        // 将校验注解的 value值（也就是校验规则）存放在set
        int[] vals = constraintAnnotation.vals();
        for (int val : vals) &#123;
            set.add(val);
        &#125;
    &#125;

    /**
     * 判断是否校验成功
     * @param value 需要校验的值，也就是实际上传的值
     * @param context
     * @return
     */
    @Override
    public boolean isValid(Integer value, ConstraintValidatorContext context) &#123;
        // @ListValue(vals=&#123;0,1&#125;,groups = &#123;AddGroup.class, UpdateStatusGroup.class&#125;)
        // 校验注解的 vals 值只有两个数字，所有这里直接包含即可
        
        return set.contains(value);
    &#125;
&#125;
</code></pre>
</li>
<li><p>解决properties文件乱码问题：</p>
<img src="adminSystem/087.png"  width="750px" /></li>
</ol>
</li>
</ol>
<h1 id="平台属性"><a href="#平台属性" class="headerlink" title="平台属性"></a>平台属性</h1><h2 id="element：间隔栏"><a href="#element：间隔栏" class="headerlink" title="element：间隔栏"></a>element：间隔栏</h2><pre><code class="js">&lt;!-- Row 组件 提供 gutter 属性来指定每一栏之间的间隔，默认间隔为 0。 --&gt;  
&lt;el-row :gutter=&quot;20&quot;&gt;
  &lt;el-col :span=&quot;6&quot;&gt;
&lt;!-- span	栅格占据的列数 --&gt;
  &lt;/el-col&gt;
  &lt;el-col :span=&quot;18&quot;&gt;

  &lt;/el-col&gt;
&lt;/el-row&gt;
</code></pre>
<h2 id="父子组件传递数据-emit"><a href="#父子组件传递数据-emit" class="headerlink" title="父子组件传递数据 $emit"></a>父子组件传递数据 $emit</h2><h3 id="编写子组件"><a href="#编写子组件" class="headerlink" title="编写子组件"></a>编写子组件</h3><pre><code class="js">&lt;template&gt;
  &lt;div&gt;
    &lt;el-input placeholder=&quot;输入关键字进行过滤&quot; v-model=&quot;filterText&quot;&gt;&lt;/el-input&gt;
    &lt;!--  @node-click=&quot;nodeclick&quot; 被点击后会触发nodeclick方法 --&gt;
    &lt;el-tree
      :data=&quot;menus&quot;
      :props=&quot;defaultProps&quot;
      node-key=&quot;catId&quot;
      ref=&quot;menuTree&quot;
      @node-click=&quot;nodeclick&quot;
      :filter-node-method=&quot;filterNode&quot;
      :highlight-current=&quot;true&quot;
    &gt;&lt;/el-tree&gt;
  &lt;/div&gt;
&lt;/template&gt;

/**
 *  @node-click=&quot;nodeclick&quot; 被点击后会触发nodeclick方法
 * data：传递给 data 属性的数组中该节点所对应的对象
 * node：节点对应的 Node
 * component：节点组件本身。
 */
nodeclick(data, node, component) &#123;
  console.log(&#39;子组件category的节点被点击&#39;, data, node, component)
  //向父组件发送事件；this.$emit(&quot;事件名&quot;,携带的数据...)
  this.$emit(&#39;tree-node-click&#39;, data, node, component)
&#125;
</code></pre>
<h3 id="在父组件上绑定事件"><a href="#在父组件上绑定事件" class="headerlink" title="在父组件上绑定事件"></a>在父组件上绑定事件</h3><pre><code class="js">&lt;el-col :span=&quot;6&quot;&gt;
  &lt;!-- 对应：this.$emit(&#39;tree-node-click&#39;, data, node, component) 然后tree-node-click这个事件发生了，就会调用treenodeclick这个方法 --&gt;
  &lt;category @tree-node-click=&quot;treenodeclick&quot;&gt;&lt;/category&gt;
&lt;/el-col&gt;

//感知树节点被点击
treenodeclick(data, node, component) &#123;
  // 如果点击到category的根节点，才会去获取数据
  if (node.level === 3) &#123;
    this.catId = data.catId
    this.getDataList() //重新查询
  &#125;
&#125;,
// 获取数据列表
getDataList() &#123;
this.dataListLoading = true
  this.$http(&#123;
    url: this.$http.adornUrl(`/product/attrgroup/list/$&#123;this.catId&#125;`),
    method: &#39;get&#39;,
    params: this.$http.adornParams(&#123;
      page: this.pageIndex,
      limit: this.pageSize,
      key: this.dataForm.key
    &#125;)
  &#125;).then((&#123; data &#125;) =&gt; &#123;
    if (data &amp;&amp; data.code === 0) &#123;
      this.dataList = data.page.list
      this.totalPage = data.page.totalCount
    &#125; else &#123;
      this.dataList = []
      this.totalPage = 0
    &#125;
    this.dataListLoading = false
  &#125;)
&#125;,
</code></pre>
<h2 id="Cascader-级联选择器"><a href="#Cascader-级联选择器" class="headerlink" title="Cascader 级联选择器"></a>Cascader 级联选择器</h2><pre><code class="js">&lt;el-form-item label=&quot;所属分类&quot; prop=&quot;catelogId&quot;&gt;
  &lt;el-cascader filterable placeholder=&quot;试试搜索：手机&quot; v-model=&quot;catelogPath&quot; :options=&quot;categorys&quot;  :props=&quot;props&quot;&gt;&lt;/el-cascader&gt;
&lt;/el-form-item&gt;

data() &#123;
    return &#123;
    props: &#123;
      value: &#39;catId&#39;, 
      label: &#39;name&#39;,
      children: &#39;children&#39;
    &#125;,
    categorys: [],
  &#125;
&#125;

getCategorys() &#123;
  this.$http(&#123;
    url: this.$http.adornUrl(&#39;/product/category/list/tree&#39;),
    method: &#39;get&#39;
  &#125;).then((&#123; data &#125;) =&gt; &#123;
    this.categorys = data.data // 获取所有的三级分类
  &#125;)
&#125;,
      
created() &#123;
  this.getCategorys()
&#125;
</code></pre>
<ul>
<li>filterable表示可搜索</li>
<li>placeholder&#x3D;”试试搜索：手机”：给出提示</li>
<li>:options&#x3D;”categorys” ：绑定所有三级分类<code>categorys: []</code>上</li>
<li>:props&#x3D;”props”：配置选项<ul>
<li>value：指定选项的值为选项对象的某个属性值</li>
<li>label：指定选项标签为选项对象的某个属性值</li>
<li>children：指定选项的子选项为选项对象的某个属性值</li>
</ul>
</li>
</ul>
<blockquote>
<p>[!NOTE]</p>
<p>注意需要在CategoryEntity.java里面添加<code>@JsonInclude</code>注解，表示如果数据为空，就不要再Json里面包含这个对象</p>
<pre><code class="java">import com.fasterxml.jackson.annotation.JsonInclude;

// 不为空时，才包含这个数据
@JsonInclude(JsonInclude.Include.NON_EMPTY)
@TableField(exist=false)
private List&lt;CategoryEntity&gt; children;
</code></pre>
</blockquote>
<h2 id="分页查询："><a href="#分页查询：" class="headerlink" title="分页查询："></a>分页查询：</h2><p>请求：<code>http://localhost:88/api/product/attrgroup/list/167?t=1710929324247&amp;page=1&amp;limit=10&amp;key=</code></p>
<h3 id="分页的代码"><a href="#分页的代码" class="headerlink" title="分页的代码"></a>分页的代码</h3><ol>
<li><p>controller</p>
<pre><code class="java">   @RequestMapping(&quot;/list/&#123;catelogId&#125;&quot;)
    public R list(@RequestParam Map&lt;String, Object&gt; params,
                  @PathVariable(&quot;catelogId&quot;) Long catelogId)&#123;
        PageUtils page = attrGroupService.queryPage(params,catelogId);
        return R.ok().put(&quot;page&quot;, page);
    &#125;
</code></pre>
<p><code>/167</code>》》》》<code> @PathVariable(&quot;catelogId&quot;) Long catelogId)</code></p>
<p><code>?t=1710929324247&amp;page=1&amp;limit=10&amp;key=</code>》》》》》<code>@RequestParam Map&lt;String, Object&gt; params</code></p>
</li>
<li><p>Services </p>
<pre><code class="java"> @Override
    public PageUtils queryPage(Map&lt;String, Object&gt; params, Long catelogId) &#123;
        String key = (String) params.get(&quot;key&quot;);
        //select * from pms_attr_group where catelog_id=? and (attr_group_id=key or attr_group_name like %key%)
        QueryWrapper&lt;AttrGroupEntity&gt; wrapper = new QueryWrapper&lt;AttrGroupEntity&gt;();
        if(!StringUtils.isEmpty(key))&#123;
            // 如果发送了key，就是条件查询，在这里封装条件
            wrapper.and((obj)-&gt;&#123;
                obj.eq(&quot;attr_group_id&quot;,key).or().like(&quot;attr_group_name&quot;,key);
            &#125;);
        &#125;

        if( catelogId == 0)&#123;
            // 如果不传catelogId；就说明查询全部
            IPage&lt;AttrGroupEntity&gt; page = this.page(new Query&lt;AttrGroupEntity&gt;().getPage(params),
                    wrapper);
            return new PageUtils(page);
        &#125;else &#123;
            // 在这里添加条件
            wrapper.eq(&quot;catelog_id&quot;,catelogId);
            IPage&lt;AttrGroupEntity&gt; page = this.page(new Query&lt;AttrGroupEntity&gt;().getPage(params),
                    wrapper);
            return new PageUtils(page);
        &#125;
    &#125;
</code></pre>
<ul>
<li><p><code>this.page()</code>：是因为service继承了<code>com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</code></p>
<pre><code class="java">@Service(&quot;attrGroupService&quot;)
public class AttrGroupServiceImpl extends ServiceImpl&lt;AttrGroupDao, AttrGroupEntity&gt; implements AttrGroupService &#123;
</code></pre>
</li>
<li><p>第一个参数是IPage对象；第二个参数是查询条件Wrapper</p>
<pre><code class="java">public IPage&lt;T&gt; page(IPage&lt;T&gt; page, Wrapper&lt;T&gt; queryWrapper) &#123;
    return this.baseMapper.selectPage(page, queryWrapper);
&#125;
</code></pre>
</li>
<li><p><code>new Query&lt;AttrGroupEntity&gt;().getPage(params)</code>的代码如下，做了两件事</p>
<ul>
<li>生成分页对象：<code>Page&lt;T&gt; page = new Page&lt;&gt;(curPage, limit);</code></li>
<li>排序</li>
</ul>
<pre><code class="java">import com.atguigu.common.xss.SQLFilter;
import com.baomidou.mybatisplus.core.metadata.IPage;
import com.baomidou.mybatisplus.core.metadata.OrderItem;
import com.baomidou.mybatisplus.extension.plugins.pagination.Page;
import org.apache.commons.lang.StringUtils;

public class Query&lt;T&gt; &#123;

    public IPage&lt;T&gt; getPage(Map&lt;String, Object&gt; params) &#123;
        return this.getPage(params, null, false);
    &#125;

    public IPage&lt;T&gt; getPage(Map&lt;String, Object&gt; params, String defaultOrderField, boolean isAsc) &#123;
        //分页参数
        long curPage = 1;
        long limit = 10;

        // 这个是renren-fast-vue生成的，所以前后端字段名字才一致
        // String PAGE = &quot;page&quot;; 前端发过来的 page: 1
        if(params.get(Constant.PAGE) != null)&#123;
            curPage = Long.parseLong((String)params.get(Constant.PAGE));
        &#125;

        // String LIMIT = &quot;limit&quot;; 前端发过来的 limit: 10
        if(params.get(Constant.LIMIT) != null)&#123;
            limit = Long.parseLong((String)params.get(Constant.LIMIT));
        &#125;

        //分页对象
        Page&lt;T&gt; page = new Page&lt;&gt;(curPage, limit);

        //分页参数
        params.put(Constant.PAGE, page);

        //排序字段
        //防止SQL注入（因为sidx、order是通过拼接SQL实现排序的，会有SQL注入风险）
        //String ORDER_FIELD = &quot;sidx&quot;
        String orderField = SQLFilter.sqlInject((String)params.get(Constant.ORDER_FIELD));
        // String ORDER = &quot;order&quot;;
        String order = (String)params.get(Constant.ORDER);

        //前端字段排序
        if(StringUtils.isNotEmpty(orderField) &amp;&amp; StringUtils.isNotEmpty(order))&#123;
            if(Constant.ASC.equalsIgnoreCase(order)) &#123;
                return  page.addOrder(OrderItem.asc(orderField));
            &#125;else &#123;
                return page.addOrder(OrderItem.desc(orderField));
            &#125;
        &#125;

        //没有排序字段，则不排序
        if(StringUtils.isBlank(defaultOrderField))&#123;
            return page;
        &#125;

        //如果有排序对象，那么是升序还是降序
        if(isAsc) &#123;
            page.addOrder(OrderItem.asc(defaultOrderField));
        &#125;else &#123;
            page.addOrder(OrderItem.desc(defaultOrderField));
        &#125;

        return page;
    &#125;
&#125;
</code></pre>
</li>
<li><p><code>new PageUtils(page);</code></p>
<p>把查询的结果，封装起来，返回给前端。前端的可以查看上面的getDataList方法</p>
<pre><code class="java">// PageUtils 的构造器
public PageUtils(IPage&lt;?&gt; page) &#123;
  this.list = page.getRecords(); // 所有数据
  this.totalCount = (int)page.getTotal();
  this.pageSize = (int)page.getSize();
  this.currPage = (int)page.getCurrent();
  this.totalPage = (int)page.getPages();
&#125;
</code></pre>
</li>
</ul>
<h3 id="配置分页插件："><a href="#配置分页插件：" class="headerlink" title="配置分页插件："></a>配置分页插件：</h3><p>没配置前：</p>
<img src="adminSystem/088.png"  width="650px" />

<pre><code class="java">@Configuration
@EnableTransactionManagement //开启事务
@MapperScan(&quot;com.atguigu.gulimall.product.dao&quot;)
public class MyBatisConfig &#123;
    //引入分页插件
    @Bean
    public PaginationInterceptor paginationInterceptor() &#123;
        PaginationInterceptor paginationInterceptor = new PaginationInterceptor();
        // 设置请求的页面大于最大页后操作， true调回到首页，false 继续请求  默认false
         paginationInterceptor.setOverflow(true);
        // 设置最大单页限制数量，默认 500 条，-1 不受限制
        paginationInterceptor.setLimit(1000);
        return paginationInterceptor;
    &#125;
&#125;
</code></pre>
<p>配置后：</p>
<img src="adminSystem/089.png"  width="650px" />

<h2 id="回显级联选择器的完整路径"><a href="#回显级联选择器的完整路径" class="headerlink" title="回显级联选择器的完整路径"></a>回显级联选择器的完整路径</h2><pre><code class="java">@Override
public Long[] findCatelogPath(Long catelogId) &#123;
    List&lt;Long&gt; paths = new ArrayList&lt;&gt;();
    List&lt;Long&gt; parentPath = findParentPath(catelogId, paths);

    Collections.reverse(parentPath);


    return parentPath.toArray(new Long[parentPath.size()]);
&#125;

private List&lt;Long&gt; findParentPath(Long catelogId,List&lt;Long&gt; paths)&#123;
    //1、收集当前节点id
    paths.add(catelogId);
    CategoryEntity byId = this.getById(catelogId);
    if(byId.getParentCid()!=0)&#123;
        findParentPath(byId.getParentCid(),paths);
    &#125;
    return paths;
&#125;
</code></pre>
</li>
</ol>
<h2 id="使用mapper-xml"><a href="#使用mapper-xml" class="headerlink" title="使用mapper.xml"></a>使用mapper.xml</h2><ol>
<li><p>service</p>
<pre><code class="java">@Override
public void updateCategory(Long catId, String name) &#123;
    this.baseMapper.updateCategory(catId,name);
&#125;
</code></pre>
</li>
<li><p>Dao</p>
<pre><code class="java">@Mapper
public interface CategoryBrandRelationDao extends BaseMapper&lt;CategoryBrandRelationEntity&gt; &#123;

    void updateCategory(@Param(&quot;catId&quot;) Long catId, @Param(&quot;name&quot;) String name);

&#125;
</code></pre>
</li>
<li><p>mapper：</p>
<pre><code class="xml">&lt;update id=&quot;updateCategory&quot;&gt;
    UPDATE `pms_category_brand_relation` SET catelog_name=#&#123;name&#125; WHERE catelog_id=#&#123;catId&#125;
&lt;/update&gt;
</code></pre>
</li>
</ol>
<h2 id="Object划分"><a href="#Object划分" class="headerlink" title="Object划分"></a>Object划分</h2><ol>
<li><p><strong>PO(persistant object) 持久对象</strong></p>
<p>PO 就是对应数据库中某个表中的一条记录，多个记录可以用 PO 的集合。 PO 中应该不包含任何对数据库的操作。</p>
</li>
<li><p><strong>DO（Domain Object）领域对象</strong></p>
<p>就是从现实世界中抽象出来的有形或无形的业务实体。</p>
</li>
<li><p><strong>TO(Transfer Object) ，数据传输对象</strong></p>
<p>不同的应用程序之间传输的对象</p>
</li>
<li><p><strong>DTO（Data Transfer Object）数据传输对象</strong></p>
<p>这个概念来源于 J2EE 的设计模式，原来的目的是为了 EJB 的分布式应用提供粗粒度的数据实体，以减少分布式调用的次数，从而提高分布式调用的性能和降低网络负载，但在这里，泛指用于展示层与服务层之间的数据传输对象。</p>
</li>
<li><p><strong>VO(value object) 值对象</strong></p>
<p>通常用于业务层之间的数据传递，和 PO 一样也是仅仅包含数据而已。但应是抽象出的业务对象 , 可以和表对应 , 也可以不 , 这根据业务的需要 。用 new 关键字创建，由GC 回收的</p>
<p>View object：视图对象。接受页面传递来的数据，封装对象。将业务处理完成的对象，封装成页面要用的数据</p>
</li>
<li><p><strong>BO(business object) 业务对象</strong></p>
<p>从业务模型的角度看 , 见 UML 元件领域模型中的领域对象。封装业务逻辑的 java 对象 , 通过调用 DAO 方法 , 结合 PO,VO 进行业务操作。business object: 业务对象 主要作用是把业务逻辑封装为一个对象。<u>这个对象可以包括一个或多个其它的对象。 比如一个简历，有教育经历、工作经历、社会关系等等。 我们可以把教育经历对应一个 PO ，工作经历对应一个 PO ，社会关系对应一个 PO 。 建立一个对应简历的 BO 对象处理简历，每个 BO 包含这些 PO</u> 。 这样处理业务逻辑时，我们就可以针对 BO 去处理。</p>
</li>
<li><p><strong>POJO(plain ordinary java object) 简单无规则 java 对象</strong></p>
<p>传统意义的 java 对象。就是说在一些 Object&#x2F;Relation Mapping 工具中，能够做到维护数据库表记录的 persisent object 完全是一个符合 Java Bean 规范的纯 Java 对象，没有增加别的属性和方法。我的理解就是最基本的 java Bean ，只有属性字段及 setter 和 getter<br>方法！。<u>POJO 是 DO&#x2F;DTO&#x2F;BO&#x2F;VO 的统称。</u></p>
</li>
<li><p><strong>DAO(data access object) 数据访问对象</strong></p>
<p>是一个 sun 的一个标准 j2ee 设计模式， 这个模式中有个接口就是 DAO ，它负持久层的操作。为业务层提供接口。此对象用于访问数据库。通常和 PO 结合使用， DAO 中包含了各种数据库的操作方法。通过它的方法 , 结合 PO 对数据库进行相关的操作。夹在业<br>务逻辑与数据库资源中间。配合 VO, 提供数据库的 CRUD 操作</p>
</li>
</ol>
<h2 id="出现异常"><a href="#出现异常" class="headerlink" title="出现异常"></a>出现异常</h2><p><code>value_type</code>这个字段没有，新增上去</p>
<pre><code class="sql">
ALTER TABLE pms_attr ADD COLUMN value_type tinyint DEFAULT NULL COMMENT &#39;值类型[0-为单个值，1-可以选择多个值]&#39; after icon;
</code></pre>
<h1 id="商品服务-1"><a href="#商品服务-1" class="headerlink" title="商品服务"></a>商品服务</h1><h2 id="出现的异常"><a href="#出现的异常" class="headerlink" title="出现的异常"></a>出现的异常</h2><h3 id="PubSub-is-not-defined"><a href="#PubSub-is-not-defined" class="headerlink" title="PubSub is not defined"></a>PubSub is not defined</h3><p>报错信息：”ReferenceError: PubSub is not defined”</p>
<p>报错原因：没有引入依赖</p>
<p>解决方式：</p>
<ol>
<li>安装依赖：<code>npm install pubsub-js@1.7.0 --save </code><ul>
<li>1.8.0版本支持发布(publish)和订阅(subscribe)函数，而1.9后已经不支持了</li>
<li>1.7.0：这个版本是教程用的版本</li>
</ul>
</li>
<li>在<code>main.js</code>中全局挂载：<code>Vue.prototype.PubSub = PubSub   //组件发布订阅消息</code></li>
<li>使用：<code>this.PubSub.subscribe(...)</code></li>
</ol>
<h3 id="webpack-dev-server-not-found"><a href="#webpack-dev-server-not-found" class="headerlink" title="webpack-dev-server: not found"></a>webpack-dev-server: not found</h3><p>报错信息：sh: webpack-dev-server: command not found</p>
<p>报错原因：缺少依赖</p>
<p>解决方式：cnpm install</p>
<h3 id="前端排查错误的小tips"><a href="#前端排查错误的小tips" class="headerlink" title="前端排查错误的小tips"></a>前端排查错误的小tips</h3><p>仔细检查错误日志就可以找到错误的地方</p>
<img src="adminSystem/090.png"  width="550px" />

<h3 id="Could-not-autowire"><a href="#Could-not-autowire" class="headerlink" title="Could not autowire"></a>Could not autowire</h3><p>报错信息：Could not autowire,no beans of “XXX“ type found</p>
<p>报错原因：在配置mapperscan的时候，只扫描<code>&quot;com.atguigu.gulimall.product.dao&quot;</code>这个路径下的包</p>
<pre><code class="java">@EnableDiscoveryClient
@MapperScan(&quot;com.atguigu.gulimall.product.dao&quot;)
@SpringBootApplication
public class GulimallProductApplication &#123;
    public static void main(String[] args) &#123;
        SpringApplication.run(GulimallProductApplication.class, args);
    &#125;
&#125;
</code></pre>
<p>但是我们需要注入<code>com.atguigu.gulimall.product.feign</code>这个包下的interface</p>
<pre><code class="java">import com.atguigu.gulimall.product.feign.CouponFeignService;

@Autowired
CouponFeignService couponFeignService;
</code></pre>
<p>解决方式：在CouponFeignService上添加<code>@Mapper</code>注解</p>
<pre><code class="java">@Mapper
public interface CouponFeignService &#123;
&#125;
</code></pre>
<h3 id="idea-设置最大占用内存"><a href="#idea-设置最大占用内存" class="headerlink" title="idea 设置最大占用内存"></a>idea 设置最大占用内存</h3><p>点击 Edit Configurations 进行设置</p>
<img src="adminSystem/093.png"  width="450px" />

<p>添加Compound</p>
<img src="adminSystem/094.png"  width="350px" />

<p>把要启动的微服务，都添加到compound里面，并给它取名字</p>
<img src="adminSystem/095.png"  width="450px" />

<p>增加 VM Options 的配置</p>
<img src="adminSystem/096.png"  width="450px" />

<img src="adminSystem/097.png"  width="450px" />

<p>给每个为微服务添加<code>-Xmx100m</code>，表示每个服务运行的最大内存就是100m</p>
<img src="adminSystem/098.png"  width="550px" />

<p>点击gilimall，刚才添加到compound里面的微服务，就会同时启动了</p>
<img src="adminSystem/092.png"  width="450px" />

<h3 id="feign-could-not-be-found"><a href="#feign-could-not-be-found" class="headerlink" title="feign could not be found"></a>feign could not be found</h3><p>报错信息：Field couponFeignService in com.atguigu.gulimall.product.service.impl.SpuInfoServiceImpl required a bean of type ‘com.atguigu.gulimall.product.feign.CouponFeignService’ that could not be found.</p>
<p>报错原因：FeignClients 要单独设置注解的路径和bean，才能交到spring那里托管</p>
<p>解决方式：添加路径</p>
<pre><code class="java">// 不添加basePackages，就会报上面的错
@EnableFeignClients(basePackages = &quot;com.atguigu.gulimall.product.feign&quot;)
@EnableDiscoveryClient
@MapperScan(&quot;com.atguigu.gulimall.product.dao&quot;)
@SpringBootApplication
public class GulimallProductApplication &#123;
    public static void main(String[] args) &#123;
        SpringApplication.run(GulimallProductApplication.class, args);
    &#125;
&#125;
</code></pre>
<h3 id="html代码如何嵌套注释"><a href="#html代码如何嵌套注释" class="headerlink" title="html代码如何嵌套注释"></a>html代码如何嵌套注释</h3><p>通过vscode 添加 <strong>nested-comments</strong> 插件</p>
<p>注释快捷方式</p>
<ul>
<li>Mac: cmd + option + &#x2F;</li>
<li>Windows: ctrl + alt + &#x2F;</li>
</ul>
<h2 id="Controller只做三件事"><a href="#Controller只做三件事" class="headerlink" title="Controller只做三件事"></a>Controller只做三件事</h2><ol>
<li>Controller：处理请求，接受和校验数据</li>
<li>Service接受controller传来的数据，进行业务处理</li>
<li>Controller接受Service处理完的数据，封装页面指定的vo</li>
</ol>
<pre><code class="java">/**
 *  /product/categorybrandrelation/brands/list
 *
 *  1、Controller：处理请求，接受和校验数据
 *  2、Service接受controller传来的数据，进行业务处理
 *  3、Controller接受Service处理完的数据，封装页面指定的vo
 */
@GetMapping(&quot;/brands/list&quot;)
public R relationBrandsList(@RequestParam(value = &quot;catId&quot;,required = true)Long catId)&#123;
  
    List&lt;BrandEntity&gt; vos = categoryBrandRelationService.getBrandsByCatId(catId);
  
    List&lt;BrandVo&gt; collect = vos.stream().map(item -&gt; &#123;
        BrandVo brandVo = new BrandVo();
        brandVo.setBrandId(item.getBrandId());
        brandVo.setBrandName(item.getName());
        return brandVo;
    &#125;).collect(Collectors.toList());
    return R.ok().put(&quot;data&quot;,collect);
&#125;
</code></pre>
<h2 id="把自增主键设置为输入"><a href="#把自增主键设置为输入" class="headerlink" title="把自增主键设置为输入"></a>把自增主键设置为输入</h2><pre><code class="java">@Data
@TableName(&quot;pms_spu_info_desc&quot;)
public class SpuInfoDescEntity implements Serializable &#123;
    private static final long serialVersionUID = 1L;

    /**
     * 商品id
     */
    @TableId(type = IdType.INPUT)
    private Long spuId;
    /**
     * 商品介绍
     */
    private String decript;

&#125;
</code></pre>
<h1 id="仓库管理"><a href="#仓库管理" class="headerlink" title="仓库管理"></a>仓库管理</h1><h2 id="invalid-token"><a href="#invalid-token" class="headerlink" title="invalid token"></a>invalid token</h2><p>我在点击 <strong>管理员列表</strong> 的时候，后端返回这个提示。我当时认为是<strong>oauth2</strong>校验的问题，于是我就设置<strong>匿名访问</strong>。把路径<code>/sys/user/**</code>设置为<code>anon</code></p>
<pre><code class="java">
@Configuration
public class ShiroConfig &#123;
    @Bean(&quot;shiroFilter&quot;)
    public ShiroFilterFactoryBean shiroFilter(SecurityManager securityManager) &#123;
        ShiroFilterFactoryBean shiroFilter = new ShiroFilterFactoryBean();
        shiroFilter.setSecurityManager(securityManager);

        //oauth过滤
        Map&lt;String, Filter&gt; filters = new HashMap&lt;&gt;();
        filters.put(&quot;oauth2&quot;, new OAuth2Filter());
        shiroFilter.setFilters(filters);

        Map&lt;String, String&gt; filterMap = new LinkedHashMap&lt;&gt;();
        filterMap.put(&quot;/webjars/**&quot;, &quot;anon&quot;);
        filterMap.put(&quot;/druid/**&quot;, &quot;anon&quot;);
        filterMap.put(&quot;/app/**&quot;, &quot;anon&quot;);
        filterMap.put(&quot;/sys/login&quot;, &quot;anon&quot;);
        filterMap.put(&quot;/swagger/**&quot;, &quot;anon&quot;);
        filterMap.put(&quot;/v2/api-docs&quot;, &quot;anon&quot;);
        filterMap.put(&quot;/swagger-ui.html&quot;, &quot;anon&quot;);
        filterMap.put(&quot;/swagger-resources/**&quot;, &quot;anon&quot;);
        filterMap.put(&quot;/captcha.jpg&quot;, &quot;anon&quot;);
        // anon 表示放开校验
//        filterMap.put(&quot;/sys/user/**&quot;, &quot;anon&quot;);
//        filterMap.put(&quot;/sys/role/**&quot;, &quot;anon&quot;);
        filterMap.put(&quot;/aaa.txt&quot;, &quot;anon&quot;);
        filterMap.put(&quot;/**&quot;, &quot;oauth2&quot;);
        shiroFilter.setFilterChainDefinitionMap(filterMap);
        return shiroFilter;
    &#125;
&#125;
</code></pre>
<p>设置好之后，再访问，提示：<strong>没有访问权限</strong>。并且后台提示如下错误：</p>
<pre><code>This subject is anonymous - it does not have any identifying principals and authorization operations require an identity to check against.  A Subject instance will acquire these identifying principals automatically after a successful login is performed be executing org.apache.shiro.subject.Subject.login(AuthenticationToken) or when &#39;Remember Me&#39; functionality is enabled by the SecurityManager.  This exception can also occur when a previously logged-in Subject has logged out which makes it anonymous again.  Because an identity is currently not known due to any of these conditions, authorization is denied.
</code></pre>
<p>最后查资料，翻代码，才指代原因：处在登录状态太久，导致token失效了。</p>
<pre><code class="java">@RestController
@RequestMapping(&quot;/app&quot;)
@Api(&quot;APP登录接口&quot;)
public class AppLoginController &#123;
    @Autowired
    private UserService userService;
    @Autowired
    private JwtUtils jwtUtils;

    /**
     * 登录
     */
    @PostMapping(&quot;login&quot;)
    @ApiOperation(&quot;登录&quot;)
    public R login(@RequestBody LoginForm form)&#123;
        //表单校验
        ValidatorUtils.validateEntity(form);

        //用户登录
        long userId = userService.login(form);

        //生成token
        String token = jwtUtils.generateToken(userId);

        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();
        map.put(&quot;token&quot;, token);
      // 在这里设置了token的失效时间：
        map.put(&quot;expire&quot;, jwtUtils.getExpire());

        return R.ok(map);
    &#125;

&#125;
</code></pre>
<h2 id="Too-many-connections"><a href="#Too-many-connections" class="headerlink" title="Too many connections"></a>Too many connections</h2><p>问题描述：Data source rejected establishment of connection,  message from server: “Too many connections” </p>
<p>问题原因：连接mysql的连接数太多。但是我查看配置发现，mysql的默认最大连接数为151次，远远没有达到。</p>
<pre><code class="sql">show variables like &#39;max_connections&#39;; # 151

show global status like &#39;Max_used_connections&#39;; # 7
</code></pre>
<p>解决方式：重启mysql</p>

      
       <hr><span style="font-style: italic;color: gray;"> 转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。可以在下面评论区评论，也可以邮件至 1909773034@qq.com </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">赏</a>
</p>






    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2017 XieShaoLin
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
</style>







</html>
